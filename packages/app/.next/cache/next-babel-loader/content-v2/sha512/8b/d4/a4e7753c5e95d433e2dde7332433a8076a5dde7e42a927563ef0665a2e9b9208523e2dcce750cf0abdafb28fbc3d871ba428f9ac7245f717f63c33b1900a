{"ast":null,"code":"import _extends from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/components/modules/ProductDetailView/ProductDetailView.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Spacer } from '@styles/CommonStyledComponents';\nimport { hasRequiredProductInformation } from './helper';\nimport ProductBackButton from './ProductBackButton';\nimport ProductImageCarousel from './ProductImageCarousel';\nimport { toArray, getSingle } from '@helpers/common';\nimport ProductMainDetails from './ProductMainDetails';\nimport { StyledDrawer, CarouselContainer, DrawerContent, ProductShowCase } from './styles';\nimport ProductRedirect from './ProductRedirect';\nimport { fixPopState, defatulPopState } from '@helpers/page';\nexport default function ProductDetailView(_ref) {\n  _s();\n\n  var productLink = _ref.productLink,\n      openProductDetailView = _ref.openProductDetailView,\n      productViewOpen = _ref.productViewOpen,\n      productViewData = _ref.productViewData,\n      productViewGoBackCopy = _ref.productViewGoBackCopy,\n      productViewGoBackText = _ref.productViewGoBackText,\n      productViewGoBackBgColor = _ref.productViewGoBackBgColor,\n      includeImageDots = _ref.includeImageDots,\n      imageDotsShape = _ref.imageDotsShape,\n      productMainInformation = _objectWithoutProperties(_ref, [\"productLink\", \"openProductDetailView\", \"productViewOpen\", \"productViewData\", \"productViewGoBackCopy\", \"productViewGoBackText\", \"productViewGoBackBgColor\", \"includeImageDots\", \"imageDotsShape\"]);\n\n  var _useState = useState(true),\n      ProductViewEligiblity = _useState[0],\n      setProductViewEligiblity = _useState[1];\n\n  if (!hasRequiredProductInformation(productViewData)) {\n    setProductViewEligiblity(false);\n  }\n\n  var detailedData = productViewData.detailedData,\n      topLevelData = productViewData.topLevelData,\n      metaData = productViewData.metaData;\n  var images = toArray(detailedData.images);\n  var validImages = [].concat(_toConsumableArray(images), [getSingle(topLevelData.image)]);\n  useEffect(function () {\n    if (productViewOpen) {\n      fixPopState();\n    } else {\n      defatulPopState();\n    }\n  }, [productViewOpen]);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, __jsx(StyledDrawer, {\n    anchor: 'right',\n    open: productViewOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, ProductViewEligiblity && __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, __jsx(ProductBackButton, _extends({\n    productViewGoBackText: productViewGoBackText,\n    productViewGoBackBgColor: productViewGoBackBgColor,\n    openProductDetailView: openProductDetailView,\n    productViewGoBackCopy: productViewGoBackCopy\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  })), __jsx(Spacer, {\n    h: [{\n      value: 20,\n      breakPoint: 'min_xs'\n    }, {\n      value: 60,\n      breakPoint: 'min_md'\n    }, {\n      value: 68,\n      breakPoint: 'min_lg'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), __jsx(ProductShowCase, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, __jsx(CarouselContainer, {\n    item: true,\n    xs: 12,\n    lg: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, __jsx(ProductImageCarousel, _extends({\n    images: validImages,\n    includeImageDots: includeImageDots,\n    imageDotsShape: imageDotsShape\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }))), __jsx(DrawerContent, {\n    item: true,\n    container: true,\n    xs: 12,\n    lg: 5,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, __jsx(ProductMainDetails, _extends({\n    detailedData: detailedData,\n    topLevelData: topLevelData,\n    metaData: metaData,\n    productLink: productLink\n  }, productMainInformation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }))))), !ProductViewEligiblity && __jsx(ProductRedirect, {\n    brand: metaData.brand,\n    productLink: productLink,\n    onClose: openProductDetailView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  })));\n}\n\n_s(ProductDetailView, \"6hGT0yiKnWnHmKFmwu+5fTnOykM=\");\n\n_c = ProductDetailView;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetailView\");","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/components/modules/ProductDetailView/ProductDetailView.js"],"names":["React","useState","useEffect","Grid","Spacer","hasRequiredProductInformation","ProductBackButton","ProductImageCarousel","toArray","getSingle","ProductMainDetails","StyledDrawer","CarouselContainer","DrawerContent","ProductShowCase","ProductRedirect","fixPopState","defatulPopState","ProductDetailView","productLink","openProductDetailView","productViewOpen","productViewData","productViewGoBackCopy","productViewGoBackText","productViewGoBackBgColor","includeImageDots","imageDotsShape","productMainInformation","ProductViewEligiblity","setProductViewEligiblity","detailedData","topLevelData","metaData","images","validImages","image","value","breakPoint","brand"],"mappings":"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","sourcesContent":["//@flow\nimport React, { useState, useEffect } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Spacer } from '@styles/CommonStyledComponents';\nimport { hasRequiredProductInformation } from './helper';\nimport ProductBackButton from './ProductBackButton';\nimport ProductImageCarousel from './ProductImageCarousel';\nimport { type CmsCopy, type CmsButton, type CmsResponsiveString } from '../../../types/cms';\nimport { type ProductData } from '../../../types/product';\nimport { toArray, getSingle } from '@helpers/common';\nimport ProductMainDetails from './ProductMainDetails';\nimport { StyledDrawer, CarouselContainer, DrawerContent, ProductShowCase } from './styles';\nimport ProductRedirect from './ProductRedirect';\nimport { fixPopState, defatulPopState } from '@helpers/page';\n\ntype ProductDetailViewProps = $Exact<{\n  productLink: string,\n  openProductDetailView: Function,\n  currentBreakpoint: string,\n  productViewOpen: boolean,\n  productViewData: ProductData,\n  productViewGoBackCopy: CmsCopy,\n  productViewGoBackText: string,\n  productViewGoBackBgColor: string,\n  productDescriptionTitleCopy: string,\n  productDeliveryTitleCopy: string,\n  productSelectedColor: CmsCopy,\n  productSelectedColorLabelText: string,\n  includeImageDots: boolean,\n  imageDotsShape: 'circle' | 'square',\n  productName: CmsCopy,\n  commonLabel: CmsCopy,\n  productCardPadding: CmsResponsiveString,\n  productVariantImageDimensions: {\n    desktop: { w: number, h: number },\n    mobile: { w: number, h: number },\n    tablet: { w: number, h: number },\n  },\n  productVariantDataCopy: CmsCopy,\n  newPriceCopy: CmsCopy,\n  wasPriceCopy: CmsCopy,\n  priceCopy: CmsCopy,\n  primaryCta: CmsButton,\n  moreInfoCopy: CmsCopy,\n  moreInfoText: string,\n  fallbackPrimaryText: string,\n  moreInfoAtStoreCopy: CmsCopy,\n  moreInfoAtStoreText: string,\n  genericProductDescriptionCopy: CmsCopy,\n  genericProductDescriptionText: Array<string>,\n  categoryLastUpdated?: string,\n}>;\n\nexport default function ProductDetailView({\n  productLink,\n  openProductDetailView,\n  productViewOpen,\n  productViewData,\n  productViewGoBackCopy,\n  productViewGoBackText,\n  productViewGoBackBgColor,\n  includeImageDots,\n  imageDotsShape,\n  ...productMainInformation\n}: ProductDetailViewProps) {\n  const [ProductViewEligiblity, setProductViewEligiblity] = useState(true);\n\n  if (!hasRequiredProductInformation(productViewData)) {\n    setProductViewEligiblity(false);\n  }\n\n  const { detailedData, topLevelData, metaData } = productViewData;\n  const images = toArray(detailedData.images);\n  const validImages = [...images, getSingle(topLevelData.image)];\n\n  useEffect(() => {\n    if (productViewOpen) {\n      fixPopState();\n    } else {\n      defatulPopState();\n    }\n  }, [productViewOpen]);\n\n  return (\n    <div>\n      <StyledDrawer anchor={'right'} open={productViewOpen}>\n        {ProductViewEligiblity && (\n          <Grid container justify=\"center\">\n            <ProductBackButton\n              {...{\n                productViewGoBackText,\n                productViewGoBackBgColor,\n                openProductDetailView,\n                productViewGoBackCopy,\n              }}\n            />\n            <Spacer\n              h={[\n                { value: 20, breakPoint: 'min_xs' },\n                { value: 60, breakPoint: 'min_md' },\n                { value: 68, breakPoint: 'min_lg' },\n              ]}\n            />\n            <ProductShowCase container justify=\"center\">\n              <CarouselContainer item xs={12} lg={7}>\n                <ProductImageCarousel\n                  {...{ images: validImages, includeImageDots, imageDotsShape }}\n                />\n              </CarouselContainer>\n\n              <DrawerContent item container xs={12} lg={5} justify=\"center\">\n                <ProductMainDetails\n                  {...{ detailedData, topLevelData, metaData, productLink }}\n                  {...productMainInformation}\n                />\n              </DrawerContent>\n            </ProductShowCase>\n          </Grid>\n        )}\n        {!ProductViewEligiblity && (\n          <ProductRedirect\n            brand={metaData.brand}\n            productLink={productLink}\n            onClose={openProductDetailView}\n          />\n        )}\n      </StyledDrawer>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}