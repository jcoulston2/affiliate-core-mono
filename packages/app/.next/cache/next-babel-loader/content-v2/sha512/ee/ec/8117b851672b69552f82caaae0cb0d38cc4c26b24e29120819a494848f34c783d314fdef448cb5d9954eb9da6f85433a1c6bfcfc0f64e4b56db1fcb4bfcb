{"ast":null,"code":"import _toConsumableArray from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport produce from 'immer';\nimport initalState from './initalState';\nimport { actionTypes } from './actions';\nexport default function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initalState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return produce(state, function (draft) {\n    switch (action.type) {\n      case actionTypes.ADD_PRODUCT_TO_WISHLIST_SUCCESS:\n        draft.savedProducts = [].concat(_toConsumableArray(draft.savedProducts), [action.product]);\n        return draft;\n\n      case actionTypes.REMOVE_PRODUCT_FROM_WISHLIST_SUCCESS:\n        draft.savedProducts = draft.savedProducts.filter(function (product) {\n          return product.topLevelData.link !== action.productLink;\n        });\n        return draft;\n\n      default:\n        return state;\n    }\n  });\n}","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/containers/WishList/reducer.js"],"names":["produce","initalState","actionTypes","reducer","state","action","draft","type","ADD_PRODUCT_TO_WISHLIST_SUCCESS","savedProducts","product","REMOVE_PRODUCT_FROM_WISHLIST_SUCCESS","filter","topLevelData","link","productLink"],"mappings":";AACA,OAAOA,OAAP,MAAoB,OAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,SAASC,WAAT,QAA4B,WAA5B;AASA,eAAe,SAASC,OAAT,GAGE;AAAA,MAFfC,KAEe,uEAFQH,WAER;AAAA,MADfI,MACe,uEADU,EACV;AACf,SAAOL,OAAO,CAACI,KAAD,EAAQ,UAACE,KAAD,EAA0B;AAC9C,YAAQD,MAAM,CAACE,IAAf;AACE,WAAKL,WAAW,CAACM,+BAAjB;AACEF,QAAAA,KAAK,CAACG,aAAN,gCAA0BH,KAAK,CAACG,aAAhC,IAA+CJ,MAAM,CAACK,OAAtD;AACA,eAAOJ,KAAP;;AAEF,WAAKJ,WAAW,CAACS,oCAAjB;AACEL,QAAAA,KAAK,CAACG,aAAN,GAAsBH,KAAK,CAACG,aAAN,CAAoBG,MAApB,CACpB,UAACF,OAAD;AAAA,iBAAaA,OAAO,CAACG,YAAR,CAAqBC,IAArB,KAA8BT,MAAM,CAACU,WAAlD;AAAA,SADoB,CAAtB;AAGA,eAAOT,KAAP;;AAEF;AACE,eAAOF,KAAP;AAZJ;AAcD,GAfa,CAAd;AAgBD","sourcesContent":["//@flow\nimport produce from 'immer';\nimport initalState from './initalState';\nimport { type WishListState } from '@types/appState';\nimport { actionTypes } from './actions';\nimport { type ProductData } from '@types/product';\n\ntype WishListAction = {\n  type: string,\n  product: ProductData,\n  productLink: string,\n};\n\nexport default function reducer(\n  state: WishListState = initalState,\n  action: WishListAction = {}\n): WishListState {\n  return produce(state, (draft: WishListState) => {\n    switch (action.type) {\n      case actionTypes.ADD_PRODUCT_TO_WISHLIST_SUCCESS:\n        draft.savedProducts = [...draft.savedProducts, action.product];\n        return draft;\n\n      case actionTypes.REMOVE_PRODUCT_FROM_WISHLIST_SUCCESS:\n        draft.savedProducts = draft.savedProducts.filter(\n          (product) => product.topLevelData.link !== action.productLink\n        );\n        return draft;\n\n      default:\n        return state;\n    }\n  });\n}\n"]},"metadata":{},"sourceType":"module"}