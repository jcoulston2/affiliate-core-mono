{"ast":null,"code":"import _extends from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nvar __jsx = React.createElement;\nimport React, { memo } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@units/Typography';\nimport { WasPriceCopy } from './styles';\nimport Chip from '@units/Chip';\nimport Card from '@units/Card';\nimport { StyledCmsGrid, Spacer } from '@styles/CommonStyledComponents';\nimport { ProductWishListAction } from '@modules/ProductWishList';\nimport startCase from 'lodash/startCase';\nimport { getSingle, getCalculatedDiscount } from '@helpers/common';\nimport { hasMinRequiredData, hasMoreColors, getFallbackImg } from './helper';\nimport { WishListActionWrapper } from './styles';\n\nfunction ProductListingItem(_ref) {\n  var topLevelData = _ref.topLevelData,\n      detailedData = _ref.detailedData,\n      metaData = _ref.metaData,\n      productTitle = _ref.productTitle,\n      productTileCard = _ref.productTileCard,\n      productTileCardDetails = _ref.productTileCardDetails,\n      priceCopy = _ref.priceCopy,\n      newPriceCopy = _ref.newPriceCopy,\n      wasPriceCopy = _ref.wasPriceCopy,\n      productTileCardContainer = _ref.productTileCardContainer,\n      hasWishListAction = _ref.hasWishListAction,\n      hoverEffect = _ref.hoverEffect,\n      onCardClick = _ref.onCardClick;\n  var image = topLevelData.image,\n      name = topLevelData.name,\n      price = topLevelData.price,\n      wasPrice = topLevelData.wasPrice,\n      nowPrice = topLevelData.nowPrice;\n  var hasReducedPrice = wasPrice && nowPrice;\n  var hasSinglePrice = !wasPrice && (nowPrice || price);\n  var validPrice = hasSinglePrice ? price || nowPrice : null;\n  var validWasPrice = hasReducedPrice ? wasPrice : null;\n  var validNowPrice = hasReducedPrice ? nowPrice : null;\n  var discountPercentage = getCalculatedDiscount(validWasPrice, validNowPrice);\n  var hasMoreColorVariants = hasMoreColors(detailedData);\n  var validatedImageSrc = image || getFallbackImg(topLevelData === null || topLevelData === void 0 ? void 0 : topLevelData.image);\n  if (!hasMinRequiredData(validatedImageSrc, name, validPrice, validNowPrice)) return null;\n  return __jsx(StyledCmsGrid, _extends({\n    container: true,\n    item: true\n  }, productTileCardContainer, productTileCardContainer.grid, {\n    justify: \"center\"\n  }), __jsx(Card, _extends({}, productTileCard, {\n    hoverEffect: hoverEffect\n  }), hasWishListAction && __jsx(WishListActionWrapper, null, __jsx(ProductWishListAction, {\n    product: {\n      topLevelData: topLevelData,\n      detailedData: detailedData,\n      metaData: metaData\n    }\n  })), __jsx(Grid, {\n    container: true,\n    onClick: onCardClick\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(\"img\", {\n    src: validatedImageSrc,\n    alt: name\n  })), __jsx(StyledCmsGrid, _extends({\n    item: true,\n    container: true,\n    xs: 12\n  }, productTileCardDetails), __jsx(Grid, {\n    item: true,\n    container: true,\n    xs: 12\n  }, discountPercentage && __jsx(Chip, {\n    label: \"\".concat(discountPercentage, \"% OFF\"),\n    size: \"small\",\n    bgColor: \"primary\",\n    color: \"secondary\"\n  }), hasMoreColorVariants && __jsx(Chip, {\n    label: \"More colours\",\n    size: \"small\",\n    color: \"secondary\"\n  })), __jsx(Grid, {\n    item: true,\n    container: true,\n    xs: 12\n  }, __jsx(Typography, {\n    tag: \"h4\",\n    typeStyles: productTitle\n  }, startCase(getSingle(name).toLowerCase()))), __jsx(Grid, {\n    container: true,\n    item: true,\n    xs: 12\n  }, hasSinglePrice && __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Typography, {\n    tag: \"p\",\n    typeStyles: priceCopy\n  }, validPrice)), hasReducedPrice && __jsx(React.Fragment, null, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(WasPriceCopy, null, __jsx(Typography, {\n    tag: \"p\",\n    typeStyles: wasPriceCopy\n  }, validWasPrice))), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Typography, {\n    tag: \"p\",\n    typeStyles: newPriceCopy\n  }, validNowPrice)))))), __jsx(Spacer, {\n    h: 4\n  })));\n}\n\nexport default /*#__PURE__*/memo(ProductListingItem);","map":null,"metadata":{},"sourceType":"module"}