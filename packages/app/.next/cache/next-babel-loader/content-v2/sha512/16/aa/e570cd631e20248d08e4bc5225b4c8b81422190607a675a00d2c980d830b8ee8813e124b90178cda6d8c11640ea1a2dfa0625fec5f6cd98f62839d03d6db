{"ast":null,"code":"var _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/units/Card/Card.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport bp from '@styles/breakPoints';\nimport { useTheme, useDeviceBreakpoint } from '@hooks';\nimport Collapse from '@material-ui/core/Collapse';\nimport { CenterAll } from '@styles/CommonStyledComponents';\nconst StyledCard = styled.section.withConfig({\n  displayName: \"Card__StyledCard\",\n  componentId: \"sc-16i7lio-0\"\n})([\"position:relative;overflow:\", \";box-shadow:\", \";border-radius:\", \"px;width:\", \";bottom:\", \";padding:\", \";margin:\", \";background:\", \";transition:transform 0.2s ease-in-out;\", \"{padding:\", \";bottom:\", \";margin:\", \";}\", \"{padding:\", \";bottom:\", \";margin:\", \";}&:hover{\", \" \", \" \", \" \", \"}\"], props => props.overflow, props => props.cardTheme.shadow, props => props.cardTheme.borderRadius, props => props.fullWidth ? '100%' : 'auto', props => {\n  var _props$cardOffset;\n\n  return `${((_props$cardOffset = props.cardOffset) === null || _props$cardOffset === void 0 ? void 0 : _props$cardOffset.desktop) || 0}px`;\n}, props => {\n  var _props$padding;\n\n  return ((_props$padding = props.padding) === null || _props$padding === void 0 ? void 0 : _props$padding.desktop) || props.padding || props.cardTheme.defaultPadding;\n}, props => {\n  var _props$margin;\n\n  return ((_props$margin = props.margin) === null || _props$margin === void 0 ? void 0 : _props$margin.desktop) || props.margin || '0px';\n}, props => props.cardTheme.background, bp.max_sm, props => {\n  var _props$padding2;\n\n  return ((_props$padding2 = props.padding) === null || _props$padding2 === void 0 ? void 0 : _props$padding2.tablet) || props.padding || props.cardTheme.defaultPadding;\n}, props => {\n  var _props$cardOffset2;\n\n  return `${((_props$cardOffset2 = props.cardOffset) === null || _props$cardOffset2 === void 0 ? void 0 : _props$cardOffset2.tablet) || 0}px`;\n}, props => {\n  var _props$margin2;\n\n  return ((_props$margin2 = props.margin) === null || _props$margin2 === void 0 ? void 0 : _props$margin2.tablet) || props.margin || '0px';\n}, bp.max_xs, props => {\n  var _props$padding3;\n\n  return ((_props$padding3 = props.padding) === null || _props$padding3 === void 0 ? void 0 : _props$padding3.mobile) || props.padding || props.cardTheme.defaultPadding;\n}, props => {\n  var _props$cardOffset3;\n\n  return `${((_props$cardOffset3 = props.cardOffset) === null || _props$cardOffset3 === void 0 ? void 0 : _props$cardOffset3.mobile) || 0}px`;\n}, props => {\n  var _props$margin3;\n\n  return ((_props$margin3 = props.margin) === null || _props$margin3 === void 0 ? void 0 : _props$margin3.mobile) || props.margin || '0px';\n}, props => props.hoverEffect === 'grow' ? 'transform: scale(1.1);' : '', props => props.hoverEffect === 'tilt' ? 'transform: rotate(6deg);' : '', props => props.hoverEffect === 'raise' ? 'translateY(-20px)' : '', props => props.hoverEffect ? 'cursor: pointer;' : '');\nconst ShowMoreCopy = styled.div.withConfig({\n  displayName: \"Card__ShowMoreCopy\",\n  componentId: \"sc-16i7lio-1\"\n})([\"position:relative;top:\", \";p{font-size:14px;color:\", \";cursor:pointer;&:hover{opacity:0.7;}}\"], props => props.offsetTop ? `${props.offsetTop}px` : 'auto', props => props.color);\nexport default function Card({\n  children,\n  padding,\n  margin,\n  cardOffset,\n  fullWidth,\n  expand,\n  hoverEffect,\n  overflow\n}) {\n  var _expand$deviceBreakpo, _expand$deviceBreakpo2, _ref$current;\n\n  const {\n    cardTheme,\n    textTheme\n  } = useTheme();\n  const {\n    0: expanded,\n    1: setExpanded\n  } = useState(false);\n  const {\n    0: cardCollapsedHeight,\n    1: setCardCollapsedHeight\n  } = useState(false);\n  const deviceBreakpoint = useDeviceBreakpoint();\n  const ref = useRef();\n  const collapsedHeight = expand && ((_expand$deviceBreakpo = expand[deviceBreakpoint]) === null || _expand$deviceBreakpo === void 0 ? void 0 : _expand$deviceBreakpo.collapsedHeight);\n  const readMoreCopyOffsetTop = expand && ((_expand$deviceBreakpo2 = expand[deviceBreakpoint]) === null || _expand$deviceBreakpo2 === void 0 ? void 0 : _expand$deviceBreakpo2.readMoreCopyOffsetTop);\n  const renderInnerCard = collapsedHeight ? __jsx(Collapse, {\n    in: expanded,\n    collapsedHeight: collapsedHeight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, children)) : __jsx(React.Fragment, null, children);\n  const refHeight = ((_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.clientHeight) || 0;\n  const revealShowMoreText = !!collapsedHeight && refHeight > collapsedHeight; // Required for the \"show more\" copy to appear on the second render.\n\n  useEffect(() => {\n    if (collapsedHeight) {\n      setCardCollapsedHeight(collapsedHeight);\n    }\n  }, []);\n  return __jsx(StyledCard, {\n    padding: padding,\n    margin: margin,\n    cardOffset: cardOffset,\n    fullWidth: fullWidth,\n    cardTheme: cardTheme,\n    hoverEffect: hoverEffect,\n    overflow: collapsedHeight ? 'hidden' : overflow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, renderInnerCard, cardCollapsedHeight && __jsx(ShowMoreCopy, {\n    offsetTop: readMoreCopyOffsetTop,\n    color: textTheme.slightlyFadedTextColor,\n    onClick: () => setExpanded(!expanded),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, revealShowMoreText && __jsx(CenterAll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, \"Show \", expanded ? 'less' : 'more'))));\n}","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/units/Card/Card.js"],"names":["React","useState","useRef","useEffect","styled","bp","useTheme","useDeviceBreakpoint","Collapse","CenterAll","StyledCard","section","props","overflow","cardTheme","shadow","borderRadius","fullWidth","cardOffset","desktop","padding","defaultPadding","margin","background","max_sm","tablet","max_xs","mobile","hoverEffect","ShowMoreCopy","div","offsetTop","color","Card","children","expand","textTheme","expanded","setExpanded","cardCollapsedHeight","setCardCollapsedHeight","deviceBreakpoint","ref","collapsedHeight","readMoreCopyOffsetTop","renderInnerCard","refHeight","current","clientHeight","revealShowMoreText","slightlyFadedTextColor"],"mappings":";;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,EAAP,MAAe,qBAAf;AACA,SAASC,QAAT,EAAmBC,mBAAnB,QAA8C,QAA9C;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,SAAT,QAA0B,gCAA1B;AAGA,MAAMC,UAAU,GAAGN,MAAM,CAACO,OAAV;AAAA;AAAA;AAAA,sSAEDC,KAAD,IAAWA,KAAK,CAACC,QAFf,EAGCD,KAAD,IAAWA,KAAK,CAACE,SAAN,CAAgBC,MAH3B,EAIIH,KAAD,IAAWA,KAAK,CAACE,SAAN,CAAgBE,YAJ9B,EAKJJ,KAAD,IAAYA,KAAK,CAACK,SAAN,GAAkB,MAAlB,GAA2B,MALlC,EAMHL,KAAD;AAAA;;AAAA,SAAY,GAAE,sBAAAA,KAAK,CAACM,UAAN,wEAAkBC,OAAlB,KAA6B,CAAE,IAA7C;AAAA,CANI,EAOFP,KAAD;AAAA;;AAAA,SAAW,mBAAAA,KAAK,CAACQ,OAAN,kEAAeD,OAAf,KAA0BP,KAAK,CAACQ,OAAhC,IAA2CR,KAAK,CAACE,SAAN,CAAgBO,cAAtE;AAAA,CAPG,EAQHT,KAAD;AAAA;;AAAA,SAAW,kBAAAA,KAAK,CAACU,MAAN,gEAAcH,OAAd,KAAyBP,KAAK,CAACU,MAA/B,IAAyC,KAApD;AAAA,CARI,EASCV,KAAD,IAAWA,KAAK,CAACE,SAAN,CAAgBS,UAT3B,EAYZlB,EAAE,CAACmB,MAZS,EAaAZ,KAAD;AAAA;;AAAA,SAAW,oBAAAA,KAAK,CAACQ,OAAN,oEAAeK,MAAf,KAAyBb,KAAK,CAACQ,OAA/B,IAA0CR,KAAK,CAACE,SAAN,CAAgBO,cAArE;AAAA,CAbC,EAcDT,KAAD;AAAA;;AAAA,SAAY,GAAE,uBAAAA,KAAK,CAACM,UAAN,0EAAkBO,MAAlB,KAA4B,CAAE,IAA5C;AAAA,CAdE,EAeDb,KAAD;AAAA;;AAAA,SAAW,mBAAAA,KAAK,CAACU,MAAN,kEAAcG,MAAd,KAAwBb,KAAK,CAACU,MAA9B,IAAwC,KAAnD;AAAA,CAfE,EAkBZjB,EAAE,CAACqB,MAlBS,EAmBAd,KAAD;AAAA;;AAAA,SAAW,oBAAAA,KAAK,CAACQ,OAAN,oEAAeO,MAAf,KAAyBf,KAAK,CAACQ,OAA/B,IAA0CR,KAAK,CAACE,SAAN,CAAgBO,cAArE;AAAA,CAnBC,EAoBDT,KAAD;AAAA;;AAAA,SAAY,GAAE,uBAAAA,KAAK,CAACM,UAAN,0EAAkBS,MAAlB,KAA4B,CAAE,IAA5C;AAAA,CApBE,EAqBDf,KAAD;AAAA;;AAAA,SAAW,mBAAAA,KAAK,CAACU,MAAN,kEAAcK,MAAd,KAAwBf,KAAK,CAACU,MAA9B,IAAwC,KAAnD;AAAA,CArBE,EAyBTV,KAAD,IAAYA,KAAK,CAACgB,WAAN,KAAsB,MAAtB,GAA+B,wBAA/B,GAA0D,EAzB5D,EA0BThB,KAAD,IAAYA,KAAK,CAACgB,WAAN,KAAsB,MAAtB,GAA+B,0BAA/B,GAA4D,EA1B9D,EA2BThB,KAAD,IAAYA,KAAK,CAACgB,WAAN,KAAsB,OAAtB,GAAgC,mBAAhC,GAAsD,EA3BxD,EA4BThB,KAAD,IAAYA,KAAK,CAACgB,WAAN,GAAoB,kBAApB,GAAyC,EA5B3C,CAAhB;AAgCA,MAAMC,YAAY,GAAGzB,MAAM,CAAC0B,GAAV;AAAA;AAAA;AAAA,qGAERlB,KAAD,IAAYA,KAAK,CAACmB,SAAN,GAAmB,GAAEnB,KAAK,CAACmB,SAAU,IAArC,GAA2C,MAF9C,EAMJnB,KAAD,IAAWA,KAAK,CAACoB,KANZ,CAAlB;AAeA,eAAe,SAASC,IAAT,CAAc;AAC3BC,EAAAA,QAD2B;AAE3Bd,EAAAA,OAF2B;AAG3BE,EAAAA,MAH2B;AAI3BJ,EAAAA,UAJ2B;AAK3BD,EAAAA,SAL2B;AAM3BkB,EAAAA,MAN2B;AAO3BP,EAAAA,WAP2B;AAQ3Bf,EAAAA;AAR2B,CAAd,EASH;AAAA;;AACV,QAAM;AAAEC,IAAAA,SAAF;AAAasB,IAAAA;AAAb,MAA2B9B,QAAQ,EAAzC;AACA,QAAM;AAAA,OAAC+B,QAAD;AAAA,OAAWC;AAAX,MAA0BrC,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM;AAAA,OAACsC,mBAAD;AAAA,OAAsBC;AAAtB,MAAgDvC,QAAQ,CAAC,KAAD,CAA9D;AACA,QAAMwC,gBAAgB,GAAGlC,mBAAmB,EAA5C;AACA,QAAMmC,GAAG,GAAGxC,MAAM,EAAlB;AACA,QAAMyC,eAAe,GAAGR,MAAM,8BAAIA,MAAM,CAACM,gBAAD,CAAV,0DAAI,sBAA0BE,eAA9B,CAA9B;AACA,QAAMC,qBAAqB,GAAGT,MAAM,+BAAIA,MAAM,CAACM,gBAAD,CAAV,2DAAI,uBAA0BG,qBAA9B,CAApC;AAEA,QAAMC,eAAe,GAAGF,eAAe,GACrC,MAAC,QAAD;AAAU,IAAA,EAAE,EAAEN,QAAd;AAAwB,IAAA,eAAe,EAAEM,eAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAED,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgBR,QAAhB,CADF,CADqC,GAKrC,4BAAGA,QAAH,CALF;AAQA,QAAMY,SAAS,GAAG,iBAAAJ,GAAG,CAACK,OAAJ,8DAAaC,YAAb,KAA6B,CAA/C;AACA,QAAMC,kBAAkB,GAAG,CAAC,CAACN,eAAF,IAAqBG,SAAS,GAAGH,eAA5D,CAlBU,CAoBV;;AACAxC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIwC,eAAJ,EAAqB;AACnBH,MAAAA,sBAAsB,CAACG,eAAD,CAAtB;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;AAMA,SACE,MAAC,UAAD;AACE,IAAA,OAAO,EAAEvB,OADX;AAEE,IAAA,MAAM,EAAEE,MAFV;AAGE,IAAA,UAAU,EAAEJ,UAHd;AAIE,IAAA,SAAS,EAAED,SAJb;AAKE,IAAA,SAAS,EAAEH,SALb;AAME,IAAA,WAAW,EAAEc,WANf;AAOE,IAAA,QAAQ,EAAEe,eAAe,GAAG,QAAH,GAAc9B,QAPzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGgC,eARH,EASGN,mBAAmB,IAClB,MAAC,YAAD;AACE,IAAA,SAAS,EAAEK,qBADb;AAEE,IAAA,KAAK,EAAER,SAAS,CAACc,sBAFnB;AAGE,IAAA,OAAO,EAAE,MAAMZ,WAAW,CAAC,CAACD,QAAF,CAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGY,kBAAkB,IACjB,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAASZ,QAAQ,GAAG,MAAH,GAAY,MAA7B,CADF,CALJ,CAVJ,CADF;AAwBD","sourcesContent":["//@flow\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport bp from '@styles/breakPoints';\nimport { useTheme, useDeviceBreakpoint } from '@hooks';\nimport Collapse from '@material-ui/core/Collapse';\nimport { CenterAll } from '@styles/CommonStyledComponents';\nimport { type CmsCard } from '@types/cms';\n\nconst StyledCard = styled.section`\n  position: relative;\n  overflow: ${(props) => props.overflow};\n  box-shadow: ${(props) => props.cardTheme.shadow};\n  border-radius: ${(props) => props.cardTheme.borderRadius}px;\n  width: ${(props) => (props.fullWidth ? '100%' : 'auto')};\n  bottom: ${(props) => `${props.cardOffset?.desktop || 0}px`};\n  padding: ${(props) => props.padding?.desktop || props.padding || props.cardTheme.defaultPadding};\n  margin: ${(props) => props.margin?.desktop || props.margin || '0px'};\n  background: ${(props) => props.cardTheme.background};\n  transition: transform 0.2s ease-in-out;\n\n  ${bp.max_sm} {\n    padding: ${(props) => props.padding?.tablet || props.padding || props.cardTheme.defaultPadding};\n    bottom: ${(props) => `${props.cardOffset?.tablet || 0}px`};\n    margin: ${(props) => props.margin?.tablet || props.margin || '0px'};\n  }\n\n  ${bp.max_xs} {\n    padding: ${(props) => props.padding?.mobile || props.padding || props.cardTheme.defaultPadding};\n    bottom: ${(props) => `${props.cardOffset?.mobile || 0}px`};\n    margin: ${(props) => props.margin?.mobile || props.margin || '0px'};\n  }\n\n  &:hover {\n    ${(props) => (props.hoverEffect === 'grow' ? 'transform: scale(1.1);' : '')}\n    ${(props) => (props.hoverEffect === 'tilt' ? 'transform: rotate(6deg);' : '')}\n    ${(props) => (props.hoverEffect === 'raise' ? 'translateY(-20px)' : '')}\n    ${(props) => (props.hoverEffect ? 'cursor: pointer;' : '')}\n  }\n`;\n\nconst ShowMoreCopy = styled.div`\n  position: relative;\n  top: ${(props) => (props.offsetTop ? `${props.offsetTop}px` : 'auto')};\n\n  p {\n    font-size: 14px;\n    color: ${(props) => props.color};\n    cursor: pointer;\n\n    &:hover {\n      opacity: 0.7;\n    }\n  }\n`;\n\nexport default function Card({\n  children,\n  padding,\n  margin,\n  cardOffset,\n  fullWidth,\n  expand,\n  hoverEffect,\n  overflow,\n}: CmsCard) {\n  const { cardTheme, textTheme } = useTheme();\n  const [expanded, setExpanded] = useState(false);\n  const [cardCollapsedHeight, setCardCollapsedHeight] = useState(false);\n  const deviceBreakpoint = useDeviceBreakpoint();\n  const ref = useRef();\n  const collapsedHeight = expand && expand[deviceBreakpoint]?.collapsedHeight;\n  const readMoreCopyOffsetTop = expand && expand[deviceBreakpoint]?.readMoreCopyOffsetTop;\n\n  const renderInnerCard = collapsedHeight ? (\n    <Collapse in={expanded} collapsedHeight={collapsedHeight}>\n      <div ref={ref}>{children}</div>\n    </Collapse>\n  ) : (\n    <>{children}</>\n  );\n\n  const refHeight = ref.current?.clientHeight || 0;\n  const revealShowMoreText = !!collapsedHeight && refHeight > collapsedHeight;\n\n  // Required for the \"show more\" copy to appear on the second render.\n  useEffect(() => {\n    if (collapsedHeight) {\n      setCardCollapsedHeight(collapsedHeight);\n    }\n  }, []);\n\n  return (\n    <StyledCard\n      padding={padding}\n      margin={margin}\n      cardOffset={cardOffset}\n      fullWidth={fullWidth}\n      cardTheme={cardTheme}\n      hoverEffect={hoverEffect}\n      overflow={collapsedHeight ? 'hidden' : overflow}>\n      {renderInnerCard}\n      {cardCollapsedHeight && (\n        <ShowMoreCopy\n          offsetTop={readMoreCopyOffsetTop}\n          color={textTheme.slightlyFadedTextColor}\n          onClick={() => setExpanded(!expanded)}>\n          {revealShowMoreText && (\n            <CenterAll>\n              <p>Show {expanded ? 'less' : 'more'}</p>\n            </CenterAll>\n          )}\n        </ShowMoreCopy>\n      )}\n    </StyledCard>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}