{"ast":null,"code":"import _extends from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport ProductListingItem from '@units/ProductListingItem';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@units/Typography';\nimport Flicker from '@units/Flicker';\nimport { NoMoreProductsFlicker, FlickerFilters } from './styles';\nimport { VIEW_MODE } from '@constants';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Image from '@units/Image';\nimport Modal from '@units/Modal';\nimport NoMoreProductsIndicator from './NoMoreProductsIndicator';\nimport Drawer from '@units/Drawer';\nimport { Filters } from '@modules/Filters';\nimport { Actionable } from '@styles/CommonStyledComponents';\nexport default function ProductFlickView(_ref) {\n  var isFlickView = _ref.isFlickView,\n      setViewMode = _ref.setViewMode,\n      flickViewTitleCopy = _ref.flickViewTitleCopy,\n      flickViewTitleText = _ref.flickViewTitleText,\n      wishListAction = _ref.wishListAction,\n      openCardAction = _ref.openCardAction,\n      allProducts = _ref.allProducts,\n      showNoMoreProducts = _ref.showNoMoreProducts,\n      noMoreProductsCopyText = _ref.noMoreProductsCopyText,\n      openCardActionMemo = _ref.openCardActionMemo,\n      loadMoreProducts = _ref.loadMoreProducts,\n      filterProps = _ref.filterProps,\n      listingItemProps = _objectWithoutProperties(_ref, [\"isFlickView\", \"setViewMode\", \"flickViewTitleCopy\", \"flickViewTitleText\", \"wishListAction\", \"openCardAction\", \"allProducts\", \"showNoMoreProducts\", \"noMoreProductsCopyText\", \"openCardActionMemo\", \"loadMoreProducts\", \"filterProps\"]);\n\n  var _useState = useState(true),\n      flickModalOpen = _useState[0],\n      setFlickModalOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      noMoreFlickerCards = _useState2[0],\n      setNoMoreFlickerCards = _useState2[1];\n\n  var flickerEndCallback = function flickerEndCallback() {\n    if (showNoMoreProducts) {\n      setNoMoreFlickerCards(true);\n    } else {\n      loadMoreProducts();\n    }\n  };\n\n  useEffect(function () {\n    setNoMoreFlickerCards(false);\n  }, [allProducts.length]);\n  return __jsx(React.Fragment, null, __jsx(Drawer, {\n    anchor: 'bottom',\n    open: isFlickView,\n    fullHeight: true,\n    width: 100,\n    iconCloseClick: function iconCloseClick() {\n      return setViewMode(VIEW_MODE.GRID_MODE);\n    },\n    onClose: function onClose() {\n      return setViewMode(VIEW_MODE.GRID_MODE);\n    }\n  }, __jsx(FlickerFilters, null, __jsx(Actionable, {\n    \"aria-label\": \"filters\"\n  }, __jsx(Filters, _extends({}, filterProps, filterProps.filterMethods)))), __jsx(Grid, {\n    container: true,\n    justify: \"center\"\n  }, __jsx(Typography, {\n    tag: \"h3\",\n    typeStyles: flickViewTitleCopy\n  }, flickViewTitleText)), __jsx(Modal, {\n    showOnce: true,\n    open: flickModalOpen,\n    setOpen: setFlickModalOpen,\n    modalKey: \"flick-modal\",\n    modalTitle: \"Fliik view\"\n  }, __jsx(Image, {\n    src: \"flick-instructions.png\",\n    maxWidth: \"434px\"\n  })), !noMoreFlickerCards ? __jsx(Flicker, {\n    preventSwipe: ['down'],\n    SwipeIconRight: __jsx(FavoriteIcon, {\n      color: \"primary\"\n    }),\n    SwipeIconLeft: __jsx(ClearIcon, {\n      color: \"primary\"\n    }),\n    onSwipeCallback: function onSwipeCallback(direction, product) {\n      if (direction === 'right') wishListAction(product);\n      if (direction === 'up') openCardAction(product);\n    },\n    onEndCallback: function onEndCallback() {\n      return flickerEndCallback();\n    },\n    dataMap: allProducts,\n    isLastDataMap: showNoMoreProducts,\n    Component: __jsx(ProductListingItem, listingItemProps)\n  }) : __jsx(NoMoreProductsFlicker, null, __jsx(NoMoreProductsIndicator, {\n    text: noMoreProductsCopyText\n  }))), __jsx(Grid, {\n    container: true,\n    justify: \"center\"\n  }, allProducts.map(function (product, index) {\n    return __jsx(ProductListingItem, _extends({\n      hasWishListAction: true,\n      onCardClick: openCardActionMemo(product)\n    }, product, listingItemProps, {\n      key: index\n    }));\n  })));\n}","map":null,"metadata":{},"sourceType":"module"}