{"ast":null,"code":"var _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/components/units/Card/Card.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport bp from '@styles/breakPoints';\nimport { useTheme, useDeviceBreakpoint } from '@hooks';\nimport Collapse from '@material-ui/core/Collapse';\nimport { CenterAll } from '@styles/CommonStyledComponents';\nvar StyledCard = styled.section.withConfig({\n  displayName: \"Card__StyledCard\",\n  componentId: \"sd1ngg-0\"\n})([\"position:relative;overflow:\", \";box-shadow:\", \";border-radius:\", \"px;width:\", \";bottom:\", \";padding:\", \";margin:\", \";background:\", \";transition:transform 0.2s ease-in-out;\", \"{padding:\", \";bottom:\", \";margin:\", \";}\", \"{padding:\", \";bottom:\", \";margin:\", \";}&:hover{\", \" \", \" \", \" \", \"}\"], function (props) {\n  return props.overflow;\n}, function (props) {\n  return props.cardTheme.shadow;\n}, function (props) {\n  return props.cardTheme.borderRadius;\n}, function (props) {\n  return props.fullWidth ? '100%' : 'auto';\n}, function (props) {\n  var _props$cardOffset;\n\n  return \"\".concat(((_props$cardOffset = props.cardOffset) === null || _props$cardOffset === void 0 ? void 0 : _props$cardOffset.desktop) || 0, \"px\");\n}, function (props) {\n  var _props$padding;\n\n  return ((_props$padding = props.padding) === null || _props$padding === void 0 ? void 0 : _props$padding.desktop) || props.padding || props.cardTheme.defaultPadding;\n}, function (props) {\n  var _props$margin;\n\n  return ((_props$margin = props.margin) === null || _props$margin === void 0 ? void 0 : _props$margin.desktop) || props.margin || '0px';\n}, function (props) {\n  return props.cardTheme.background;\n}, bp.max_sm, function (props) {\n  var _props$padding2;\n\n  return ((_props$padding2 = props.padding) === null || _props$padding2 === void 0 ? void 0 : _props$padding2.tablet) || props.padding || props.cardTheme.defaultPadding;\n}, function (props) {\n  var _props$cardOffset2;\n\n  return \"\".concat(((_props$cardOffset2 = props.cardOffset) === null || _props$cardOffset2 === void 0 ? void 0 : _props$cardOffset2.tablet) || 0, \"px\");\n}, function (props) {\n  var _props$margin2;\n\n  return ((_props$margin2 = props.margin) === null || _props$margin2 === void 0 ? void 0 : _props$margin2.tablet) || props.margin || '0px';\n}, bp.max_xs, function (props) {\n  var _props$padding3;\n\n  return ((_props$padding3 = props.padding) === null || _props$padding3 === void 0 ? void 0 : _props$padding3.mobile) || props.padding || props.cardTheme.defaultPadding;\n}, function (props) {\n  var _props$cardOffset3;\n\n  return \"\".concat(((_props$cardOffset3 = props.cardOffset) === null || _props$cardOffset3 === void 0 ? void 0 : _props$cardOffset3.mobile) || 0, \"px\");\n}, function (props) {\n  var _props$margin3;\n\n  return ((_props$margin3 = props.margin) === null || _props$margin3 === void 0 ? void 0 : _props$margin3.mobile) || props.margin || '0px';\n}, function (props) {\n  return props.hoverEffect === 'grow' ? 'transform: scale(1.1);' : '';\n}, function (props) {\n  return props.hoverEffect === 'tilt' ? 'transform: rotate(6deg);' : '';\n}, function (props) {\n  return props.hoverEffect === 'raise' ? 'translateY(-20px)' : '';\n}, function (props) {\n  return props.hoverEffect ? 'cursor: pointer;' : '';\n});\n_c = StyledCard;\nvar ShowMoreCopy = styled.div.withConfig({\n  displayName: \"Card__ShowMoreCopy\",\n  componentId: \"sd1ngg-1\"\n})([\"position:relative;top:\", \";p{font-size:14px;color:\", \";cursor:pointer;&:hover{opacity:0.7;}}\"], function (props) {\n  return props.offsetTop ? \"\".concat(props.offsetTop, \"px\") : 'auto';\n}, function (props) {\n  return props.color;\n});\n_c2 = ShowMoreCopy;\nexport default function Card(_ref) {\n  _s();\n\n  var _expand$deviceBreakpo, _expand$deviceBreakpo2, _ref$current;\n\n  var children = _ref.children,\n      padding = _ref.padding,\n      margin = _ref.margin,\n      cardOffset = _ref.cardOffset,\n      fullWidth = _ref.fullWidth,\n      expand = _ref.expand,\n      hoverEffect = _ref.hoverEffect,\n      overflow = _ref.overflow;\n\n  var _useTheme = useTheme(),\n      cardTheme = _useTheme.cardTheme,\n      textTheme = _useTheme.textTheme;\n\n  var _useState = useState(false),\n      expanded = _useState[0],\n      setExpanded = _useState[1];\n\n  var _useState2 = useState(false),\n      cardCollapsedHeight = _useState2[0],\n      setCardCollapsedHeight = _useState2[1];\n\n  var deviceBreakpoint = useDeviceBreakpoint();\n  var ref = useRef();\n  var collapsedHeight = expand && ((_expand$deviceBreakpo = expand[deviceBreakpoint]) === null || _expand$deviceBreakpo === void 0 ? void 0 : _expand$deviceBreakpo.collapsedHeight);\n  var readMoreCopyOffsetTop = expand && ((_expand$deviceBreakpo2 = expand[deviceBreakpoint]) === null || _expand$deviceBreakpo2 === void 0 ? void 0 : _expand$deviceBreakpo2.readMoreCopyOffsetTop);\n  var renderInnerCard = collapsedHeight ? __jsx(Collapse, {\n    \"in\": expanded,\n    collapsedHeight: collapsedHeight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, children)) : __jsx(React.Fragment, null, children);\n  var refHeight = ((_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.clientHeight) || 0;\n  var revealShowMoreText = !!collapsedHeight && refHeight > collapsedHeight; // Required for the \"show more\" copy to appear on the second render.\n\n  useEffect(function () {\n    if (collapsedHeight) {\n      setCardCollapsedHeight(collapsedHeight);\n    }\n  }, []);\n  return __jsx(StyledCard, {\n    padding: padding,\n    margin: margin,\n    cardOffset: cardOffset,\n    fullWidth: fullWidth,\n    cardTheme: cardTheme,\n    hoverEffect: hoverEffect,\n    overflow: collapsedHeight ? 'hidden' : overflow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, renderInnerCard, cardCollapsedHeight && __jsx(ShowMoreCopy, {\n    offsetTop: readMoreCopyOffsetTop,\n    color: textTheme.slightlyFadedTextColor,\n    onClick: function onClick() {\n      return setExpanded(!expanded);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, revealShowMoreText && __jsx(CenterAll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, \"Show \", expanded ? 'less' : 'more'))));\n}\n\n_s(Card, \"Xrm7Ar9rJbSKZAmMCMQ6Bqd3v5M=\", false, function () {\n  return [useTheme, useDeviceBreakpoint];\n});\n\n_c3 = Card;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"StyledCard\");\n$RefreshReg$(_c2, \"ShowMoreCopy\");\n$RefreshReg$(_c3, \"Card\");","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/components/units/Card/Card.js"],"names":["React","useState","useRef","useEffect","styled","bp","useTheme","useDeviceBreakpoint","Collapse","CenterAll","StyledCard","section","props","overflow","cardTheme","shadow","borderRadius","fullWidth","cardOffset","desktop","padding","defaultPadding","margin","background","max_sm","tablet","max_xs","mobile","hoverEffect","ShowMoreCopy","div","offsetTop","color","Card","children","expand","textTheme","expanded","setExpanded","cardCollapsedHeight","setCardCollapsedHeight","deviceBreakpoint","ref","collapsedHeight","readMoreCopyOffsetTop","renderInnerCard","refHeight","current","clientHeight","revealShowMoreText","slightlyFadedTextColor"],"mappings":"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","sourcesContent":["//@flow\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport bp from '@styles/breakPoints';\nimport { useTheme, useDeviceBreakpoint } from '@hooks';\nimport Collapse from '@material-ui/core/Collapse';\nimport { CenterAll } from '@styles/CommonStyledComponents';\nimport { type CmsCard } from '@types/cms';\n\nconst StyledCard = styled.section`\n  position: relative;\n  overflow: ${(props) => props.overflow};\n  box-shadow: ${(props) => props.cardTheme.shadow};\n  border-radius: ${(props) => props.cardTheme.borderRadius}px;\n  width: ${(props) => (props.fullWidth ? '100%' : 'auto')};\n  bottom: ${(props) => `${props.cardOffset?.desktop || 0}px`};\n  padding: ${(props) => props.padding?.desktop || props.padding || props.cardTheme.defaultPadding};\n  margin: ${(props) => props.margin?.desktop || props.margin || '0px'};\n  background: ${(props) => props.cardTheme.background};\n  transition: transform 0.2s ease-in-out;\n\n  ${bp.max_sm} {\n    padding: ${(props) => props.padding?.tablet || props.padding || props.cardTheme.defaultPadding};\n    bottom: ${(props) => `${props.cardOffset?.tablet || 0}px`};\n    margin: ${(props) => props.margin?.tablet || props.margin || '0px'};\n  }\n\n  ${bp.max_xs} {\n    padding: ${(props) => props.padding?.mobile || props.padding || props.cardTheme.defaultPadding};\n    bottom: ${(props) => `${props.cardOffset?.mobile || 0}px`};\n    margin: ${(props) => props.margin?.mobile || props.margin || '0px'};\n  }\n\n  &:hover {\n    ${(props) => (props.hoverEffect === 'grow' ? 'transform: scale(1.1);' : '')}\n    ${(props) => (props.hoverEffect === 'tilt' ? 'transform: rotate(6deg);' : '')}\n    ${(props) => (props.hoverEffect === 'raise' ? 'translateY(-20px)' : '')}\n    ${(props) => (props.hoverEffect ? 'cursor: pointer;' : '')}\n  }\n`;\n\nconst ShowMoreCopy = styled.div`\n  position: relative;\n  top: ${(props) => (props.offsetTop ? `${props.offsetTop}px` : 'auto')};\n\n  p {\n    font-size: 14px;\n    color: ${(props) => props.color};\n    cursor: pointer;\n\n    &:hover {\n      opacity: 0.7;\n    }\n  }\n`;\n\nexport default function Card({\n  children,\n  padding,\n  margin,\n  cardOffset,\n  fullWidth,\n  expand,\n  hoverEffect,\n  overflow,\n}: CmsCard) {\n  const { cardTheme, textTheme } = useTheme();\n  const [expanded, setExpanded] = useState(false);\n  const [cardCollapsedHeight, setCardCollapsedHeight] = useState(false);\n  const deviceBreakpoint = useDeviceBreakpoint();\n  const ref = useRef();\n  const collapsedHeight = expand && expand[deviceBreakpoint]?.collapsedHeight;\n  const readMoreCopyOffsetTop = expand && expand[deviceBreakpoint]?.readMoreCopyOffsetTop;\n\n  const renderInnerCard = collapsedHeight ? (\n    <Collapse in={expanded} collapsedHeight={collapsedHeight}>\n      <div ref={ref}>{children}</div>\n    </Collapse>\n  ) : (\n    <>{children}</>\n  );\n\n  const refHeight = ref.current?.clientHeight || 0;\n  const revealShowMoreText = !!collapsedHeight && refHeight > collapsedHeight;\n\n  // Required for the \"show more\" copy to appear on the second render.\n  useEffect(() => {\n    if (collapsedHeight) {\n      setCardCollapsedHeight(collapsedHeight);\n    }\n  }, []);\n\n  return (\n    <StyledCard\n      padding={padding}\n      margin={margin}\n      cardOffset={cardOffset}\n      fullWidth={fullWidth}\n      cardTheme={cardTheme}\n      hoverEffect={hoverEffect}\n      overflow={collapsedHeight ? 'hidden' : overflow}>\n      {renderInnerCard}\n      {cardCollapsedHeight && (\n        <ShowMoreCopy\n          offsetTop={readMoreCopyOffsetTop}\n          color={textTheme.slightlyFadedTextColor}\n          onClick={() => setExpanded(!expanded)}>\n          {revealShowMoreText && (\n            <CenterAll>\n              <p>Show {expanded ? 'less' : 'more'}</p>\n            </CenterAll>\n          )}\n        </ShowMoreCopy>\n      )}\n    </StyledCard>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}