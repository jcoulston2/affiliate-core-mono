{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/modules/ProductDetailView/ProductDetailView.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Spacer } from '@styles/CommonStyledComponents';\nimport { hasRequiredProductInformation } from './helper';\nimport ProductBackButton from './ProductBackButton';\nimport ProductImageCarousel from './ProductImageCarousel';\nimport { toArray, getSingle } from '@helpers/common';\nimport ProductMainDetails from './ProductMainDetails';\nimport { StyledDrawer, CarouselContainer, DrawerContent, ProductShowCase } from './styles';\nimport ProductRedirect from './ProductRedirect';\nimport { fixPopState, defatulPopState } from '@helpers/page';\nexport default function ProductDetailView(_ref) {\n  let {\n    productLink,\n    openProductDetailView,\n    productViewOpen,\n    productViewData,\n    productViewGoBackCopy,\n    productViewGoBackText,\n    productViewGoBackBgColor,\n    includeImageDots,\n    imageDotsShape\n  } = _ref,\n      productMainInformation = _objectWithoutProperties(_ref, [\"productLink\", \"openProductDetailView\", \"productViewOpen\", \"productViewData\", \"productViewGoBackCopy\", \"productViewGoBackText\", \"productViewGoBackBgColor\", \"includeImageDots\", \"imageDotsShape\"]);\n\n  const {\n    0: ProductViewEligiblity,\n    1: setProductViewEligiblity\n  } = useState(true);\n\n  if (!hasRequiredProductInformation(productViewData)) {\n    setProductViewEligiblity(false);\n  }\n\n  const {\n    detailedData,\n    topLevelData,\n    metaData\n  } = productViewData;\n  const images = toArray(detailedData.images);\n  const validImages = [...images, getSingle(topLevelData.image)];\n  useEffect(() => {\n    if (productViewOpen) {\n      fixPopState();\n    } else {\n      defatulPopState();\n    }\n  }, [productViewOpen]);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, __jsx(StyledDrawer, {\n    anchor: 'right',\n    open: productViewOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, ProductViewEligiblity && __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, __jsx(ProductBackButton, _extends({\n    productViewGoBackText,\n    productViewGoBackBgColor,\n    openProductDetailView,\n    productViewGoBackCopy\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  })), __jsx(Spacer, {\n    h: [{\n      value: 20,\n      breakPoint: 'min_xs'\n    }, {\n      value: 60,\n      breakPoint: 'min_md'\n    }, {\n      value: 68,\n      breakPoint: 'min_lg'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), __jsx(ProductShowCase, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, __jsx(CarouselContainer, {\n    item: true,\n    xs: 12,\n    lg: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, __jsx(ProductImageCarousel, _extends({\n    images: validImages,\n    includeImageDots,\n    imageDotsShape\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }))), __jsx(DrawerContent, {\n    item: true,\n    container: true,\n    xs: 12,\n    lg: 5,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, __jsx(ProductMainDetails, _extends({\n    detailedData,\n    topLevelData,\n    metaData,\n    productLink\n  }, productMainInformation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }))))), !ProductViewEligiblity && __jsx(ProductRedirect, {\n    brand: metaData.brand,\n    productLink: productLink,\n    onClose: openProductDetailView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/modules/ProductDetailView/ProductDetailView.js"],"names":["React","useState","useEffect","Grid","Spacer","hasRequiredProductInformation","ProductBackButton","ProductImageCarousel","toArray","getSingle","ProductMainDetails","StyledDrawer","CarouselContainer","DrawerContent","ProductShowCase","ProductRedirect","fixPopState","defatulPopState","ProductDetailView","productLink","openProductDetailView","productViewOpen","productViewData","productViewGoBackCopy","productViewGoBackText","productViewGoBackBgColor","includeImageDots","imageDotsShape","productMainInformation","ProductViewEligiblity","setProductViewEligiblity","detailedData","topLevelData","metaData","images","validImages","image","value","breakPoint","brand"],"mappings":"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","sourcesContent":["//@flow\nimport React, { useState, useEffect } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Spacer } from '@styles/CommonStyledComponents';\nimport { hasRequiredProductInformation } from './helper';\nimport ProductBackButton from './ProductBackButton';\nimport ProductImageCarousel from './ProductImageCarousel';\nimport { type CmsCopy, type CmsButton, type CmsResponsiveString } from '../../../types/cms';\nimport { type ProductData } from '../../../types/product';\nimport { toArray, getSingle } from '@helpers/common';\nimport ProductMainDetails from './ProductMainDetails';\nimport { StyledDrawer, CarouselContainer, DrawerContent, ProductShowCase } from './styles';\nimport ProductRedirect from './ProductRedirect';\nimport { fixPopState, defatulPopState } from '@helpers/page';\n\ntype ProductDetailViewProps = $Exact<{\n  productLink: string,\n  openProductDetailView: Function,\n  currentBreakpoint: string,\n  productViewOpen: boolean,\n  productViewData: ProductData,\n  productViewGoBackCopy: CmsCopy,\n  productViewGoBackText: string,\n  productViewGoBackBgColor: string,\n  productDescriptionTitleCopy: string,\n  productDeliveryTitleCopy: string,\n  productSelectedColor: CmsCopy,\n  productSelectedColorLabelText: string,\n  includeImageDots: boolean,\n  imageDotsShape: 'circle' | 'square',\n  productName: CmsCopy,\n  commonLabel: CmsCopy,\n  productCardPadding: CmsResponsiveString,\n  productVariantImageDimensions: {\n    desktop: { w: number, h: number },\n    mobile: { w: number, h: number },\n    tablet: { w: number, h: number },\n  },\n  productVariantDataCopy: CmsCopy,\n  newPriceCopy: CmsCopy,\n  wasPriceCopy: CmsCopy,\n  priceCopy: CmsCopy,\n  primaryCta: CmsButton,\n  moreInfoCopy: CmsCopy,\n  moreInfoText: string,\n  fallbackPrimaryText: string,\n  moreInfoAtStoreCopy: CmsCopy,\n  moreInfoAtStoreText: string,\n  genericProductDescriptionCopy: CmsCopy,\n  genericProductDescriptionText: Array<string>,\n  categoryLastUpdated?: string,\n}>;\n\nexport default function ProductDetailView({\n  productLink,\n  openProductDetailView,\n  productViewOpen,\n  productViewData,\n  productViewGoBackCopy,\n  productViewGoBackText,\n  productViewGoBackBgColor,\n  includeImageDots,\n  imageDotsShape,\n  ...productMainInformation\n}: ProductDetailViewProps) {\n  const [ProductViewEligiblity, setProductViewEligiblity] = useState(true);\n\n  if (!hasRequiredProductInformation(productViewData)) {\n    setProductViewEligiblity(false);\n  }\n\n  const { detailedData, topLevelData, metaData } = productViewData;\n  const images = toArray(detailedData.images);\n  const validImages = [...images, getSingle(topLevelData.image)];\n\n  useEffect(() => {\n    if (productViewOpen) {\n      fixPopState();\n    } else {\n      defatulPopState();\n    }\n  }, [productViewOpen]);\n\n  return (\n    <div>\n      <StyledDrawer anchor={'right'} open={productViewOpen}>\n        {ProductViewEligiblity && (\n          <Grid container justify=\"center\">\n            <ProductBackButton\n              {...{\n                productViewGoBackText,\n                productViewGoBackBgColor,\n                openProductDetailView,\n                productViewGoBackCopy,\n              }}\n            />\n            <Spacer\n              h={[\n                { value: 20, breakPoint: 'min_xs' },\n                { value: 60, breakPoint: 'min_md' },\n                { value: 68, breakPoint: 'min_lg' },\n              ]}\n            />\n            <ProductShowCase container justify=\"center\">\n              <CarouselContainer item xs={12} lg={7}>\n                <ProductImageCarousel\n                  {...{ images: validImages, includeImageDots, imageDotsShape }}\n                />\n              </CarouselContainer>\n\n              <DrawerContent item container xs={12} lg={5} justify=\"center\">\n                <ProductMainDetails\n                  {...{ detailedData, topLevelData, metaData, productLink }}\n                  {...productMainInformation}\n                />\n              </DrawerContent>\n            </ProductShowCase>\n          </Grid>\n        )}\n        {!ProductViewEligiblity && (\n          <ProductRedirect\n            brand={metaData.brand}\n            productLink={productLink}\n            onClose={openProductDetailView}\n          />\n        )}\n      </StyledDrawer>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}