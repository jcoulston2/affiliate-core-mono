{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nvar __jsx = React.createElement;\nimport React, { memo } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@units/Typography';\nimport { WasPriceCopy } from './styles';\nimport Chip from '@units/Chip';\nimport Card from '@units/Card';\nimport { StyledCmsGrid, Spacer } from '@styles/CommonStyledComponents';\nimport { ProductWishListAction } from '@modules/ProductWishList';\nimport startCase from 'lodash/startCase';\nimport { getSingle, getCalculatedDiscount } from '@helpers/common';\nimport { hasMinRequiredData, hasMoreColors, getFallbackImg } from './helper';\nimport { WishListActionWrapper } from './styles';\n\nfunction ProductListingItem({\n  topLevelData,\n  detailedData,\n  metaData,\n  productTitle,\n  productTileCard,\n  productTileCardDetails,\n  priceCopy,\n  newPriceCopy,\n  wasPriceCopy,\n  productTileCardContainer,\n  hasWishListAction,\n  hoverEffect,\n  onCardClick\n}) {\n  const {\n    image,\n    name,\n    price,\n    wasPrice,\n    nowPrice\n  } = topLevelData;\n  const hasReducedPrice = wasPrice && nowPrice;\n  const hasSinglePrice = !wasPrice && (nowPrice || price);\n  const validPrice = hasSinglePrice ? price || nowPrice : null;\n  const validWasPrice = hasReducedPrice ? wasPrice : null;\n  const validNowPrice = hasReducedPrice ? nowPrice : null;\n  const discountPercentage = getCalculatedDiscount(validWasPrice, validNowPrice);\n  const hasMoreColorVariants = hasMoreColors(detailedData);\n  const validatedImageSrc = image || getFallbackImg(topLevelData === null || topLevelData === void 0 ? void 0 : topLevelData.image);\n  if (!hasMinRequiredData(validatedImageSrc, name, validPrice, validNowPrice)) return null;\n  return __jsx(StyledCmsGrid, _extends({\n    container: true,\n    item: true\n  }, productTileCardContainer, productTileCardContainer.grid, {\n    justify: \"center\"\n  }), __jsx(Card, _extends({}, productTileCard, {\n    hoverEffect: hoverEffect\n  }), hasWishListAction && __jsx(WishListActionWrapper, null, __jsx(ProductWishListAction, {\n    product: {\n      topLevelData,\n      detailedData,\n      metaData\n    }\n  })), __jsx(Grid, {\n    container: true,\n    onClick: onCardClick\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(\"img\", {\n    src: validatedImageSrc,\n    alt: name\n  })), __jsx(StyledCmsGrid, _extends({\n    item: true,\n    container: true,\n    xs: 12\n  }, productTileCardDetails), __jsx(Grid, {\n    item: true,\n    container: true,\n    xs: 12\n  }, discountPercentage && __jsx(Chip, {\n    label: `${discountPercentage}% OFF`,\n    size: \"small\",\n    bgColor: \"primary\",\n    color: \"secondary\"\n  }), hasMoreColorVariants && __jsx(Chip, {\n    label: \"More colours\",\n    size: \"small\",\n    color: \"secondary\"\n  })), __jsx(Grid, {\n    item: true,\n    container: true,\n    xs: 12\n  }, __jsx(Typography, {\n    tag: \"h4\",\n    typeStyles: productTitle\n  }, startCase(getSingle(name).toLowerCase()))), __jsx(Grid, {\n    container: true,\n    item: true,\n    xs: 12\n  }, hasSinglePrice && __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Typography, {\n    tag: \"p\",\n    typeStyles: priceCopy\n  }, validPrice)), hasReducedPrice && __jsx(React.Fragment, null, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(WasPriceCopy, null, __jsx(Typography, {\n    tag: \"p\",\n    typeStyles: wasPriceCopy\n  }, validWasPrice))), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Typography, {\n    tag: \"p\",\n    typeStyles: newPriceCopy\n  }, validNowPrice)))))), __jsx(Spacer, {\n    h: 4\n  })));\n}\n\nexport default /*#__PURE__*/memo(ProductListingItem);","map":null,"metadata":{},"sourceType":"module"}