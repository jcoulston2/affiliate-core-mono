{"ast":null,"code":"import produce from 'immer';\nimport initalState from './initalState';\nimport { actionTypes } from './actions';\nexport default function reducer(state = initalState, action = {}) {\n  return produce(state, draft => {\n    switch (action.type) {\n      case actionTypes.ADD_PRODUCT_TO_WISHLIST_SUCCESS:\n        draft.savedProducts = [...draft.savedProducts, action.product];\n        return draft;\n\n      case actionTypes.REMOVE_PRODUCT_FROM_WISHLIST_SUCCESS:\n        draft.savedProducts = draft.savedProducts.filter(product => product.topLevelData.link !== action.productLink);\n        return draft;\n\n      default:\n        return state;\n    }\n  });\n}","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/containers/WishList/reducer.js"],"names":["produce","initalState","actionTypes","reducer","state","action","draft","type","ADD_PRODUCT_TO_WISHLIST_SUCCESS","savedProducts","product","REMOVE_PRODUCT_FROM_WISHLIST_SUCCESS","filter","topLevelData","link","productLink"],"mappings":"AACA,OAAOA,OAAP,MAAoB,OAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,SAASC,WAAT,QAA4B,WAA5B;AASA,eAAe,SAASC,OAAT,CACbC,KAAoB,GAAGH,WADV,EAEbI,MAAsB,GAAG,EAFZ,EAGE;AACf,SAAOL,OAAO,CAACI,KAAD,EAASE,KAAD,IAA0B;AAC9C,YAAQD,MAAM,CAACE,IAAf;AACE,WAAKL,WAAW,CAACM,+BAAjB;AACEF,QAAAA,KAAK,CAACG,aAAN,GAAsB,CAAC,GAAGH,KAAK,CAACG,aAAV,EAAyBJ,MAAM,CAACK,OAAhC,CAAtB;AACA,eAAOJ,KAAP;;AAEF,WAAKJ,WAAW,CAACS,oCAAjB;AACEL,QAAAA,KAAK,CAACG,aAAN,GAAsBH,KAAK,CAACG,aAAN,CAAoBG,MAApB,CACnBF,OAAD,IAAaA,OAAO,CAACG,YAAR,CAAqBC,IAArB,KAA8BT,MAAM,CAACU,WAD9B,CAAtB;AAGA,eAAOT,KAAP;;AAEF;AACE,eAAOF,KAAP;AAZJ;AAcD,GAfa,CAAd;AAgBD","sourcesContent":["//@flow\nimport produce from 'immer';\nimport initalState from './initalState';\nimport { type WishListState } from '@types/appState';\nimport { actionTypes } from './actions';\nimport { type ProductData } from '@types/product';\n\ntype WishListAction = {\n  type: string,\n  product: ProductData,\n  productLink: string,\n};\n\nexport default function reducer(\n  state: WishListState = initalState,\n  action: WishListAction = {}\n): WishListState {\n  return produce(state, (draft: WishListState) => {\n    switch (action.type) {\n      case actionTypes.ADD_PRODUCT_TO_WISHLIST_SUCCESS:\n        draft.savedProducts = [...draft.savedProducts, action.product];\n        return draft;\n\n      case actionTypes.REMOVE_PRODUCT_FROM_WISHLIST_SUCCESS:\n        draft.savedProducts = draft.savedProducts.filter(\n          (product) => product.topLevelData.link !== action.productLink\n        );\n        return draft;\n\n      default:\n        return state;\n    }\n  });\n}\n"]},"metadata":{},"sourceType":"module"}