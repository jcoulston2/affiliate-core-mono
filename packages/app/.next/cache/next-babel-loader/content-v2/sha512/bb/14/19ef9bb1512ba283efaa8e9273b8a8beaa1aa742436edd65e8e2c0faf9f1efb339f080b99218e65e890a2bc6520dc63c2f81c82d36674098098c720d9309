{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nvar _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/components/modules/MarketingSpace/MarketingSpace.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { PwaBanner } from '@modules/Pwa';\nimport MarketingBanner from '@units/MarketingBanner';\nimport styled from 'styled-components';\nimport { isAfter, isBefore } from 'date-fns';\nimport { useCms } from '@hooks';\nconst MarketingSpaceContainer = styled.div.withConfig({\n  displayName: \"MarketingSpace__MarketingSpaceContainer\",\n  componentId: \"bi7s3t-0\"\n})([\"&&{[data-ref='pwa-banner'] + *{display:none;}}\"]);\nexport default function MarketingSpace() {\n  const {\n    banners: bannersCms,\n    displayInstallAppBanner\n  } = useCms('marketing') || {};\n  const now = new Date();\n  const sortedBanners = bannersCms === null || bannersCms === void 0 ? void 0 : bannersCms.filter(banner => {\n    const startDateOk = !banner.startDate || isAfter(banner.startDate, now);\n    const endDateOk = !banner.endDate || isBefore(banner.endDate, now);\n    return banner.visible && startDateOk && endDateOk;\n  });\n  return __jsx(MarketingSpaceContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, displayInstallAppBanner && __jsx(PwaBanner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 35\n    }\n  }), sortedBanners === null || sortedBanners === void 0 ? void 0 : sortedBanners.map((item, index) => __jsx(MarketingBanner, _extends({}, item, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/components/modules/MarketingSpace/MarketingSpace.js"],"names":["React","PwaBanner","MarketingBanner","styled","isAfter","isBefore","useCms","MarketingSpaceContainer","div","MarketingSpace","banners","bannersCms","displayInstallAppBanner","now","Date","sortedBanners","filter","banner","startDateOk","startDate","endDateOk","endDate","visible","map","item","index"],"mappings":";;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,eAAP,MAA4B,wBAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,UAAlC;AAEA,SAASC,MAAT,QAAuB,QAAvB;AAEA,MAAMC,uBAAuB,GAAGJ,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,sDAA7B;AAQA,eAAe,SAASC,cAAT,GAA0B;AACvC,QAAM;AAAEC,IAAAA,OAAO,EAAEC,UAAX;AAAuBC,IAAAA;AAAvB,MACJN,MAAM,CAAsB,WAAtB,CAAN,IAA4C,EAD9C;AAEA,QAAMO,GAAG,GAAG,IAAIC,IAAJ,EAAZ;AACA,QAAMC,aAAa,GAAGJ,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEK,MAAZ,CAAoBC,MAAD,IAAY;AACnD,UAAMC,WAAW,GAAG,CAACD,MAAM,CAACE,SAAR,IAAqBf,OAAO,CAACa,MAAM,CAACE,SAAR,EAAmBN,GAAnB,CAAhD;AACA,UAAMO,SAAS,GAAG,CAACH,MAAM,CAACI,OAAR,IAAmBhB,QAAQ,CAACY,MAAM,CAACI,OAAR,EAAiBR,GAAjB,CAA7C;AACA,WAAOI,MAAM,CAACK,OAAP,IAAkBJ,WAAlB,IAAiCE,SAAxC;AACD,GAJqB,CAAtB;AAMA,SACE,MAAC,uBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,uBAAuB,IAAI,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD9B,EAEGG,aAFH,aAEGA,aAFH,uBAEGA,aAAa,CAAEQ,GAAf,CAAmB,CAACC,IAAD,EAAOC,KAAP,KAClB,MAAC,eAAD,eAAqBD,IAArB;AAA2B,IAAA,GAAG,EAAEC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADD,CAFH,CADF;AAQD","sourcesContent":["//@flow\nimport React from 'react';\nimport { PwaBanner } from '@modules/Pwa';\nimport MarketingBanner from '@units/MarketingBanner';\nimport styled from 'styled-components';\nimport { isAfter, isBefore } from 'date-fns';\nimport { type MarketingBanner as MarketingBannerType } from '@types/marketing';\nimport { useCms } from '@hooks';\n\nconst MarketingSpaceContainer = styled.div`\n  && {\n    [data-ref='pwa-banner'] + * {\n      display: none;\n    }\n  }\n`;\n\nexport default function MarketingSpace() {\n  const { banners: bannersCms, displayInstallAppBanner } =\n    useCms<MarketingBannerType>('marketing') || {};\n  const now = new Date();\n  const sortedBanners = bannersCms?.filter((banner) => {\n    const startDateOk = !banner.startDate || isAfter(banner.startDate, now);\n    const endDateOk = !banner.endDate || isBefore(banner.endDate, now);\n    return banner.visible && startDateOk && endDateOk;\n  });\n\n  return (\n    <MarketingSpaceContainer>\n      {displayInstallAppBanner && <PwaBanner />}\n      {sortedBanners?.map((item, index) => (\n        <MarketingBanner {...item} key={index} />\n      ))}\n    </MarketingSpaceContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}