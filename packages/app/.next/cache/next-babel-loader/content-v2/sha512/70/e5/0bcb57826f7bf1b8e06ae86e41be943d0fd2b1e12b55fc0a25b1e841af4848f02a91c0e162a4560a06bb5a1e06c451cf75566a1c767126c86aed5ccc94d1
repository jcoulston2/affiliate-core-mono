{"ast":null,"code":"import _extends from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/components/units/Modal/Modal.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport { getLocalStorage, setLocalStorage } from '@helpers/common';\nimport { MODALS_PREVENTED } from '@constants';\nimport Button from '@units/Button';\nimport Grid from '@material-ui/core/Grid';\nimport styled from 'styled-components';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Typography from '@units/Typography';\nimport { useTheme } from '@hooks';\nimport { StyledCmsGrid } from '@styles/CommonStyledComponents';\nexport var ModalContainer = styled(Grid).withConfig({\n  displayName: \"Modal__ModalContainer\",\n  componentId: \"sc-1gq3sie-0\"\n})([\"padding:0px 10px;overflow-y:scroll;\"]);\n_c = ModalContainer;\nexport var Close = styled(Grid).withConfig({\n  displayName: \"Modal__Close\",\n  componentId: \"sc-1gq3sie-1\"\n})([\"&:hover{cursor:pointer;opacity:0.5;}\"]);\n_c2 = Close;\nexport var Title = styled.div.withConfig({\n  displayName: \"Modal__Title\",\n  componentId: \"sc-1gq3sie-2\"\n})([\"padding:20px;\"]);\nexport var DialogContainer = styled(Dialog).withConfig({\n  displayName: \"Modal__DialogContainer\",\n  componentId: \"sc-1gq3sie-3\"\n})([\".MuiPaper-root{padding:20px 10px;overflow:hidden;}*{::-webkit-scrollbar{-webkit-appearance:none;width:3px;}::-webkit-scrollbar-thumb{border-radius:4px;background-color:#dcdada;}}\"]);\n_c3 = DialogContainer;\nexport default function Modal(_ref) {\n  _s();\n\n  var children = _ref.children,\n      padding = _ref.padding,\n      modalKey = _ref.modalKey,\n      showOnce = _ref.showOnce,\n      onSubmitModal = _ref.onSubmitModal,\n      modalTitle = _ref.modalTitle,\n      buttonText = _ref.buttonText,\n      open = _ref.open,\n      setOpen = _ref.setOpen,\n      rest = _objectWithoutProperties(_ref, [\"children\", \"padding\", \"modalKey\", \"showOnce\", \"onSubmitModal\", \"modalTitle\", \"buttonText\", \"open\", \"setOpen\"]);\n\n  var modalsPrevented = getLocalStorage(MODALS_PREVENTED) || [];\n  var isModalPrevented = showOnce && modalsPrevented.includes(modalKey);\n\n  var _useTheme = useTheme(),\n      modalTheme = _useTheme.modalTheme;\n\n  var handleModalOpenStatus = function handleModalOpenStatus() {\n    setOpen(false);\n    if (showOnce) setLocalStorage(MODALS_PREVENTED, [modalKey].concat(_toConsumableArray(modalsPrevented)));\n    if (onSubmitModal) onSubmitModal();\n  };\n\n  return !isModalPrevented ? __jsx(DialogContainer, _extends({}, rest, {\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }), __jsx(ModalContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    container: true,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, __jsx(Close, {\n    item: true,\n    onClick: function onClick() {\n      return setOpen(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, __jsx(ClearIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }))), modalTitle && __jsx(Typography, {\n    typeStyles: modalTheme.modalHeading,\n    fullwidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, modalTitle), __jsx(StyledCmsGrid, {\n    padding: modalTheme.defaultPadding || padding,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, children), __jsx(Button, {\n    primary: true,\n    fullWidth: true,\n    onClick: handleModalOpenStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, buttonText || 'Ok'))) : null;\n}\n\n_s(Modal, \"Dyh5+YfdF5Rkc4Ecr0y741dEMMo=\", false, function () {\n  return [useTheme];\n});\n\n_c4 = Modal;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ModalContainer\");\n$RefreshReg$(_c2, \"Close\");\n$RefreshReg$(_c3, \"DialogContainer\");\n$RefreshReg$(_c4, \"Modal\");","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/app/components/units/Modal/Modal.js"],"names":["React","useState","Dialog","getLocalStorage","setLocalStorage","MODALS_PREVENTED","Button","Grid","styled","ClearIcon","Typography","useTheme","StyledCmsGrid","ModalContainer","Close","Title","div","DialogContainer","Modal","children","padding","modalKey","showOnce","onSubmitModal","modalTitle","buttonText","open","setOpen","rest","modalsPrevented","isModalPrevented","includes","modalTheme","handleModalOpenStatus","modalHeading","defaultPadding"],"mappings":"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","sourcesContent":["//@flow\nimport React, { useState } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport { getLocalStorage, setLocalStorage } from '@helpers/common';\nimport { MODALS_PREVENTED } from '@constants';\nimport Button from '@units/Button';\nimport Grid from '@material-ui/core/Grid';\nimport styled from 'styled-components';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Typography from '@units/Typography';\nimport { useTheme } from '@hooks';\nimport { StyledCmsGrid } from '@styles/CommonStyledComponents';\nimport { type CmsResponsiveString } from '@types/cms';\n\ntype DialogProps = {\n  children: any,\n  showOnce: boolean,\n  modalKey: string,\n  buttonText: string,\n  onSubmitModal: Function,\n  modalTitle: string,\n  padding: CmsResponsiveString,\n  open: boolean,\n  setOpen: Function,\n  ...\n};\n\nexport const ModalContainer = styled(Grid)`\n  padding: 0px 10px;\n  overflow-y: scroll;\n`;\n\nexport const Close = styled(Grid)`\n  &:hover {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n`;\n\nexport const Title = styled.div`\n  padding: 20px;\n`;\n\nexport const DialogContainer = styled(Dialog)`\n  .MuiPaper-root {\n    padding: 20px 10px;\n    overflow: hidden;\n  }\n\n  * {\n    ::-webkit-scrollbar {\n      -webkit-appearance: none;\n      width: 3px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: 4px;\n      background-color: #dcdada;\n    }\n  }\n`;\n\nexport default function Modal({\n  children,\n  padding,\n  modalKey,\n  showOnce,\n  onSubmitModal,\n  modalTitle,\n  buttonText,\n  open,\n  setOpen,\n  ...rest\n}: DialogProps) {\n  const modalsPrevented = getLocalStorage(MODALS_PREVENTED) || [];\n  const isModalPrevented = showOnce && modalsPrevented.includes(modalKey);\n  const { modalTheme } = useTheme();\n\n  const handleModalOpenStatus = () => {\n    setOpen(false);\n    if (showOnce) setLocalStorage(MODALS_PREVENTED, [modalKey, ...modalsPrevented]);\n    if (onSubmitModal) onSubmitModal();\n  };\n\n  return !isModalPrevented ? (\n    <DialogContainer {...rest} open={open}>\n      <ModalContainer>\n        <Grid item xs={12} container justify=\"flex-end\">\n          <Close item onClick={() => setOpen(false)}>\n            <ClearIcon fontSize=\"large\" />\n          </Close>\n        </Grid>\n        {modalTitle && (\n          <Typography typeStyles={modalTheme.modalHeading} fullwidth>\n            {modalTitle}\n          </Typography>\n        )}\n\n        <StyledCmsGrid padding={modalTheme.defaultPadding || padding}>{children}</StyledCmsGrid>\n        <Button primary fullWidth onClick={handleModalOpenStatus}>\n          {buttonText || 'Ok'}\n        </Button>\n      </ModalContainer>\n    </DialogContainer>\n  ) : null;\n}\n"]},"metadata":{},"sourceType":"module"}