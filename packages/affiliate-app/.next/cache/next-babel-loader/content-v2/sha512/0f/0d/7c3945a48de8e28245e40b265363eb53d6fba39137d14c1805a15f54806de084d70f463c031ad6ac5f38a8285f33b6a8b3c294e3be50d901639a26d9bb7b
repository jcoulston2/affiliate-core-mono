{"ast":null,"code":"import _defineProperty from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/modules/UserSettings/UserSettingsModal.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@units/Typography';\nimport Image from '@units/Image';\nimport Input from '@units/Input';\nimport RadioButton from '@units/RadioButton';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { useForm } from '@hooks';\nimport Button from '@units/Button';\nimport Form from '@units/Form';\nimport { getLocalStorage } from '@helpers/common';\nimport { USER_SETTINGS_KEY } from '@constants';\nimport { ModalContainer, Skip, ModalGridItem, StyledRadioGroup } from './styles';\nexport default function UserSettingsModal(_ref) {\n  _s();\n\n  var setUserSettings = _ref.setUserSettings,\n      useModal = _ref.useModal,\n      userSettingsModalHeadingText = _ref.userSettingsModalHeadingText,\n      userSettingsModalBlurbText = _ref.userSettingsModalBlurbText,\n      userSettingsModalHeading = _ref.userSettingsModalHeading,\n      userSettingsModalBlurb = _ref.userSettingsModalBlurb,\n      modalDelay = _ref.modalDelay;\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var userSettingsConfig = getLocalStorage(USER_SETTINGS_KEY);\n  var hasSeenModal = userSettingsConfig === null || userSettingsConfig === void 0 ? void 0 : userSettingsConfig.hasSeenUserIntroModal;\n  var initialFormValues = {\n    name: null,\n    gender: null\n  };\n  var validationSchema = {\n    name: function name(value) {\n      if (!(value !== null && value !== void 0 && value.length)) {\n        return 'required';\n      }\n    }\n  };\n\n  var handleCloseModal = function handleCloseModal() {\n    setUserSettings(_objectSpread(_objectSpread({}, userSettingsConfig), {}, {\n      hasSeenUserIntroModal: true\n    }));\n    setOpen(false);\n  };\n\n  var submitCallback = function submitCallback(formValues) {\n    setUserSettings(_objectSpread(_objectSpread({}, formValues), {}, {\n      hasSeenUserIntroModal: true\n    }));\n    setOpen(false);\n  };\n\n  var _useForm = useForm(initialFormValues, validationSchema),\n      formValues = _useForm.formValues,\n      onChangeHandler = _useForm.onChangeHandler,\n      submitForm = _useForm.submitForm,\n      errors = _useForm.errors;\n\n  useEffect(function () {\n    if (useModal && !hasSeenModal) {\n      setTimeout(function () {\n        return setOpen(true);\n      }, modalDelay);\n    }\n  }, []);\n  return __jsx(Dialog, {\n    open: open,\n    keepMounted: true,\n    onClose: function onClose() {\n      return handleCloseModal();\n    },\n    \"aria-labelledby\": \"alert-dialog-slide-title\",\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, __jsx(ModalContainer, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    container: true,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, __jsx(Skip, {\n    item: true,\n    onClick: function onClick() {\n      return handleCloseModal();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    tag: \"p\",\n    weight: 200,\n    size: 15,\n    padding: '0px 0px 10px 0px',\n    decoration: 'underline',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"skip >\"))), __jsx(Form, {\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      submitForm(submitCallback);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, __jsx(ModalGridItem, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    typeStyles: userSettingsModalHeading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, userSettingsModalHeadingText)), __jsx(ModalGridItem, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, __jsx(Image, {\n    src: \"shoe-and-bag.svg\",\n    alt: \"welcome to fliik\",\n    maxWidth: \"180px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  })), __jsx(ModalGridItem, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    tag: \"p\",\n    typeStyles: userSettingsModalBlurb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, userSettingsModalBlurbText)), __jsx(ModalGridItem, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    padding: '0.5em 0em',\n    tag: 'h3',\n    weight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"What\\u2019s your name?\"), __jsx(Input, {\n    error: !!errors.name,\n    helperText: errors === null || errors === void 0 ? void 0 : errors.name,\n    value: formValues.name,\n    fullWidth: true,\n    onChange: onChangeHandler('name'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  })), __jsx(ModalGridItem, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    padding: '0.5em 0em 1em 0em',\n    tag: 'h3',\n    weight: 500,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"What\\u2019s your gender?\"), __jsx(StyledRadioGroup, {\n    \"aria-label\": \"gender\",\n    name: \"gender\",\n    value: formValues.gender,\n    onChange: onChangeHandler('gender'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, __jsx(FormControlLabel, {\n    value: \"Female\",\n    control: __jsx(RadioButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 57\n      }\n    }),\n    label: \"Female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }), __jsx(FormControlLabel, {\n    value: \"Male\",\n    control: __jsx(RadioButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 55\n      }\n    }),\n    label: \"Male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }), __jsx(FormControlLabel, {\n    value: \"Other\",\n    control: __jsx(RadioButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 56\n      }\n    }),\n    label: \"Other\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }))), __jsx(ModalGridItem, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    secondary: true,\n    fullWidth: true,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"Done\")))));\n}\n\n_s(UserSettingsModal, \"u6bMm+RvwG5kk5OkDCU0mpHRj+g=\", false, function () {\n  return [useForm];\n});\n\n_c = UserSettingsModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSettingsModal\");","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/modules/UserSettings/UserSettingsModal.js"],"names":["React","useState","useEffect","Dialog","Grid","Typography","Image","Input","RadioButton","FormControlLabel","useForm","Button","Form","getLocalStorage","USER_SETTINGS_KEY","ModalContainer","Skip","ModalGridItem","StyledRadioGroup","UserSettingsModal","setUserSettings","useModal","userSettingsModalHeadingText","userSettingsModalBlurbText","userSettingsModalHeading","userSettingsModalBlurb","modalDelay","open","setOpen","userSettingsConfig","hasSeenModal","hasSeenUserIntroModal","initialFormValues","name","gender","validationSchema","value","length","handleCloseModal","submitCallback","formValues","onChangeHandler","submitForm","errors","setTimeout","event","preventDefault"],"mappings":"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","sourcesContent":["//@flow\nimport React, { useState, useEffect } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@units/Typography';\nimport Image from '@units/Image';\nimport Input from '@units/Input';\nimport RadioButton from '@units/RadioButton';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { useForm } from '@hooks';\nimport Button from '@units/Button';\nimport Form from '@units/Form';\nimport { getLocalStorage } from '@helpers/common';\nimport { USER_SETTINGS_KEY } from '@constants';\nimport { type CmsCopy } from '@types/cms';\nimport { ModalContainer, Skip, ModalGridItem, StyledRadioGroup } from './styles';\nimport { type User } from '@types/user';\n\ntype UserSettingsModalProps = {\n  setUserSettings: Function,\n  useModal: boolean,\n  userSettingsModalHeadingText: string,\n  userSettingsModalBlurbText: string,\n  userSettingsModalHeading: CmsCopy,\n  userSettingsModalBlurb: CmsCopy,\n  modalDelay: number,\n};\n\nexport default function UserSettingsModal({\n  setUserSettings,\n  useModal,\n  userSettingsModalHeadingText,\n  userSettingsModalBlurbText,\n  userSettingsModalHeading,\n  userSettingsModalBlurb,\n  modalDelay,\n}: UserSettingsModalProps) {\n  const [open, setOpen] = useState(false);\n  const userSettingsConfig = getLocalStorage<User>(USER_SETTINGS_KEY);\n  const hasSeenModal = userSettingsConfig?.hasSeenUserIntroModal;\n\n  const initialFormValues = {\n    name: null,\n    gender: null,\n  };\n  const validationSchema = {\n    name: (value) => {\n      if (!value?.length) {\n        return 'required';\n      }\n    },\n  };\n\n  const handleCloseModal = (): void => {\n    setUserSettings({\n      ...userSettingsConfig,\n      hasSeenUserIntroModal: true,\n    });\n    setOpen(false);\n  };\n\n  const submitCallback = (formValues: User): void => {\n    setUserSettings({\n      ...formValues,\n      hasSeenUserIntroModal: true,\n    });\n    setOpen(false);\n  };\n\n  const { formValues, onChangeHandler, submitForm, errors } = useForm(\n    initialFormValues,\n    validationSchema\n  );\n\n  useEffect(() => {\n    if (useModal && !hasSeenModal) {\n      setTimeout(() => setOpen(true), modalDelay);\n    }\n  }, []);\n\n  return (\n    <Dialog\n      open={open}\n      keepMounted\n      onClose={() => handleCloseModal()}\n      aria-labelledby=\"alert-dialog-slide-title\"\n      aria-describedby=\"alert-dialog-slide-description\">\n      <ModalContainer container>\n        <Grid item xs={12} container justify=\"flex-end\">\n          <Skip item onClick={() => handleCloseModal()}>\n            <Typography\n              tag=\"p\"\n              weight={200}\n              size={15}\n              padding={'0px 0px 10px 0px'}\n              decoration={'underline'}>\n              skip &gt;\n            </Typography>\n          </Skip>\n        </Grid>\n        <Form\n          onSubmit={(event) => {\n            event.preventDefault();\n            submitForm(submitCallback);\n          }}>\n          <ModalGridItem item xs={12}>\n            <Typography typeStyles={userSettingsModalHeading}>\n              {userSettingsModalHeadingText}\n            </Typography>\n          </ModalGridItem>\n          <ModalGridItem item xs={12}>\n            <Image src=\"shoe-and-bag.svg\" alt=\"welcome to fliik\" maxWidth=\"180px\" />\n          </ModalGridItem>\n          <ModalGridItem item xs={12}>\n            <Typography tag=\"p\" typeStyles={userSettingsModalBlurb}>\n              {userSettingsModalBlurbText}\n            </Typography>\n          </ModalGridItem>\n          <ModalGridItem item xs={12}>\n            <Typography padding={'0.5em 0em'} tag={'h3'} weight={500}>\n              What’s your name?\n            </Typography>\n            <Input\n              error={!!errors.name}\n              helperText={errors?.name}\n              value={formValues.name}\n              fullWidth\n              onChange={onChangeHandler('name')}\n            />\n          </ModalGridItem>\n          <ModalGridItem item xs={12}>\n            <Typography padding={'0.5em 0em 1em 0em'} tag={'h3'} weight={500}>\n              What’s your gender?\n            </Typography>\n            <StyledRadioGroup\n              aria-label=\"gender\"\n              name=\"gender\"\n              value={formValues.gender}\n              onChange={onChangeHandler('gender')}>\n              <FormControlLabel value=\"Female\" control={<RadioButton />} label=\"Female\" />\n              <FormControlLabel value=\"Male\" control={<RadioButton />} label=\"Male\" />\n              <FormControlLabel value=\"Other\" control={<RadioButton />} label=\"Other\" />\n            </StyledRadioGroup>\n          </ModalGridItem>\n          <ModalGridItem item xs={12}>\n            <Button secondary fullWidth type=\"submit\">\n              Done\n            </Button>\n          </ModalGridItem>\n        </Form>\n      </ModalContainer>\n    </Dialog>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}