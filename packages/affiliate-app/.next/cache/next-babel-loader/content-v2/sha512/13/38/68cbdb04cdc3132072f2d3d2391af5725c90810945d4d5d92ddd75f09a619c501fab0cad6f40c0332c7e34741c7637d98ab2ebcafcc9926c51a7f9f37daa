{"ast":null,"code":"import _extends from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/modules/MarketingSpace/MarketingSpace.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { PwaBanner } from '@modules/Pwa';\nimport MarketingBanner from '@units/MarketingBanner';\nimport styled from 'styled-components';\nimport { isAfter, isBefore } from 'date-fns';\nimport { useCms } from '@hooks';\nvar MarketingSpaceContainer = styled.div.withConfig({\n  displayName: \"MarketingSpace__MarketingSpaceContainer\",\n  componentId: \"jghn9t-0\"\n})([\"&&{[data-ref='pwa-banner'] + *{display:none;}}\"]);\n_c = MarketingSpaceContainer;\nexport default function MarketingSpace() {\n  _s();\n\n  var _this = this;\n\n  var _ref = useCms('marketing') || {},\n      bannersCms = _ref.banners,\n      displayInstallAppBanner = _ref.displayInstallAppBanner;\n\n  var now = new Date();\n  var sortedBanners = bannersCms === null || bannersCms === void 0 ? void 0 : bannersCms.filter(function (banner) {\n    var startDateOk = !banner.startDate || isAfter(banner.startDate, now);\n    var endDateOk = !banner.endDate || isBefore(banner.endDate, now);\n    return banner.visible && startDateOk && endDateOk;\n  });\n  return __jsx(MarketingSpaceContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, displayInstallAppBanner && __jsx(PwaBanner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 35\n    }\n  }), sortedBanners === null || sortedBanners === void 0 ? void 0 : sortedBanners.map(function (item, index) {\n    return __jsx(MarketingBanner, _extends({}, item, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }\n    }));\n  }));\n}\n\n_s(MarketingSpace, \"2ILrULAqrFGpk9B7RWdh3zKmi6k=\", false, function () {\n  return [useCms];\n});\n\n_c2 = MarketingSpace;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MarketingSpaceContainer\");\n$RefreshReg$(_c2, \"MarketingSpace\");","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/modules/MarketingSpace/MarketingSpace.js"],"names":["React","PwaBanner","MarketingBanner","styled","isAfter","isBefore","useCms","MarketingSpaceContainer","div","MarketingSpace","bannersCms","banners","displayInstallAppBanner","now","Date","sortedBanners","filter","banner","startDateOk","startDate","endDateOk","endDate","visible","map","item","index"],"mappings":";;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,eAAP,MAA4B,wBAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,UAAlC;AAEA,SAASC,MAAT,QAAuB,QAAvB;AAEA,IAAMC,uBAAuB,GAAGJ,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,sDAA7B;KAAMD,uB;AAQN,eAAe,SAASE,cAAT,GAA0B;AAAA;;AAAA;;AAAA,aAErCH,MAAM,CAAsB,WAAtB,CAAN,IAA4C,EAFP;AAAA,MACtBI,UADsB,QAC/BC,OAD+B;AAAA,MACVC,uBADU,QACVA,uBADU;;AAGvC,MAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;AACA,MAAMC,aAAa,GAAGL,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEM,MAAZ,CAAmB,UAACC,MAAD,EAAY;AACnD,QAAMC,WAAW,GAAG,CAACD,MAAM,CAACE,SAAR,IAAqBf,OAAO,CAACa,MAAM,CAACE,SAAR,EAAmBN,GAAnB,CAAhD;AACA,QAAMO,SAAS,GAAG,CAACH,MAAM,CAACI,OAAR,IAAmBhB,QAAQ,CAACY,MAAM,CAACI,OAAR,EAAiBR,GAAjB,CAA7C;AACA,WAAOI,MAAM,CAACK,OAAP,IAAkBJ,WAAlB,IAAiCE,SAAxC;AACD,GAJqB,CAAtB;AAMA,SACE,MAAC,uBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,uBAAuB,IAAI,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD9B,EAEGG,aAFH,aAEGA,aAFH,uBAEGA,aAAa,CAAEQ,GAAf,CAAmB,UAACC,IAAD,EAAOC,KAAP;AAAA,WAClB,MAAC,eAAD,eAAqBD,IAArB;AAA2B,MAAA,GAAG,EAAEC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADkB;AAAA,GAAnB,CAFH,CADF;AAQD;;GAlBuBhB,c;UAEpBH,M;;;MAFoBG,c","sourcesContent":["//@flow\nimport React from 'react';\nimport { PwaBanner } from '@modules/Pwa';\nimport MarketingBanner from '@units/MarketingBanner';\nimport styled from 'styled-components';\nimport { isAfter, isBefore } from 'date-fns';\nimport { type MarketingBanner as MarketingBannerType } from '@types/marketing';\nimport { useCms } from '@hooks';\n\nconst MarketingSpaceContainer = styled.div`\n  && {\n    [data-ref='pwa-banner'] + * {\n      display: none;\n    }\n  }\n`;\n\nexport default function MarketingSpace() {\n  const { banners: bannersCms, displayInstallAppBanner } =\n    useCms<MarketingBannerType>('marketing') || {};\n  const now = new Date();\n  const sortedBanners = bannersCms?.filter((banner) => {\n    const startDateOk = !banner.startDate || isAfter(banner.startDate, now);\n    const endDateOk = !banner.endDate || isBefore(banner.endDate, now);\n    return banner.visible && startDateOk && endDateOk;\n  });\n\n  return (\n    <MarketingSpaceContainer>\n      {displayInstallAppBanner && <PwaBanner />}\n      {sortedBanners?.map((item, index) => (\n        <MarketingBanner {...item} key={index} />\n      ))}\n    </MarketingSpaceContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}