{"ast":null,"code":"import _extends from \"/Users/justincoulston/Desktop/affilaite-core-mono/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/units/StickyHeader/StickyHeader.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { StyledCmsGrid } from '@styles/CommonStyledComponents';\nimport { shadowBottom } from '@styles/commonStyles';\nvar StickHeaderWrapper = styled.div.withConfig({\n  displayName: \"StickyHeader__StickHeaderWrapper\",\n  componentId: \"sc-114lfkn-0\"\n})([\"width:100%;\", \" \", \"\"], function (_ref) {\n  var sticky = _ref.sticky,\n      height = _ref.height;\n  return sticky && \"    \\n    height: \".concat(height, \"px;    \\n    > \").concat(StyledCmsGrid, \" {      \\n      position: fixed;\\n      z-index: 99;\\n      width: 100%;\\n      top: 0px;  \\n      left: 0px;\\n      \").concat(shadowBottom, \"\\n    }  \\n  \");\n}, function (_ref2) {\n  var background = _ref2.background;\n  return background && \"\\n    > div {\\n      background \".concat(background, \";\\n    }\\n    \\n  \");\n});\n_c = StickHeaderWrapper;\nexport default function StickyHeader(_ref3) {\n  _s();\n\n  var _ref$current;\n\n  var children = _ref3.children,\n      background = _ref3.background,\n      padding = _ref3.padding;\n  var ref = useRef(null);\n\n  var _useState = useState(false),\n      sticky = _useState[0],\n      setSticky = _useState[1];\n\n  var handleScroll = function handleScroll() {\n    document.addEventListener('scroll', function () {\n      if (ref !== null && ref !== void 0 && ref.current) {\n        setSticky(ref.current.getBoundingClientRect().top < 0);\n      }\n    });\n  };\n\n  useEffect(function () {\n    handleScroll();\n  }, []);\n  return __jsx(StickHeaderWrapper, {\n    height: (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.clientHeight,\n    background: background,\n    sticky: sticky,\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, __jsx(StyledCmsGrid, _extends({}, sticky ? {\n    padding: padding\n  } : {}, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), children));\n}\n\n_s(StickyHeader, \"c6mxP/C5O+iqKPWX2UYu99uFzDQ=\");\n\n_c2 = StickyHeader;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StickHeaderWrapper\");\n$RefreshReg$(_c2, \"StickyHeader\");","map":{"version":3,"sources":["/Users/justincoulston/Desktop/affilaite-core-mono/packages/affiliate-app/components/units/StickyHeader/StickyHeader.js"],"names":["React","useEffect","useState","useRef","styled","StyledCmsGrid","shadowBottom","StickHeaderWrapper","div","sticky","height","background","StickyHeader","children","padding","ref","setSticky","handleScroll","document","addEventListener","current","getBoundingClientRect","top","clientHeight"],"mappings":";;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,aAAT,QAA8B,gCAA9B;AAEA,SAASC,YAAT,QAA6B,sBAA7B;AAQA,IAAMC,kBAAkB,GAAGH,MAAM,CAACI,GAAV;AAAA;AAAA;AAAA,6BAGpB;AAAA,MAAGC,MAAH,QAAGA,MAAH;AAAA,MAAWC,MAAX,QAAWA,MAAX;AAAA,SACAD,MAAM,gCAEIC,MAFJ,4BAGFL,aAHE,kIASFC,YATE,kBADN;AAAA,CAHoB,EAiBpB;AAAA,MAAGK,UAAH,SAAGA,UAAH;AAAA,SACAA,UAAU,8CAGKA,UAHL,uBADV;AAAA,CAjBoB,CAAxB;KAAMJ,kB;AA2BN,eAAe,SAASK,YAAT,QAA4E;AAAA;;AAAA;;AAAA,MAApDC,QAAoD,SAApDA,QAAoD;AAAA,MAA1CF,UAA0C,SAA1CA,UAA0C;AAAA,MAA9BG,OAA8B,SAA9BA,OAA8B;AACzF,MAAMC,GAAG,GAAGZ,MAAM,CAAC,IAAD,CAAlB;;AADyF,kBAE7DD,QAAQ,CAAC,KAAD,CAFqD;AAAA,MAElFO,MAFkF;AAAA,MAE1EO,SAF0E;;AAIzF,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAY;AAC/BC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoC,YAAM;AACxC,UAAIJ,GAAJ,aAAIA,GAAJ,eAAIA,GAAG,CAAEK,OAAT,EAAkB;AAChBJ,QAAAA,SAAS,CAACD,GAAG,CAACK,OAAJ,CAAYC,qBAAZ,GAAoCC,GAApC,GAA0C,CAA3C,CAAT;AACD;AACF,KAJD;AAKD,GAND;;AAQArB,EAAAA,SAAS,CAAC,YAAM;AACdgB,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;AAIA,SACE,MAAC,kBAAD;AACE,IAAA,MAAM,kBAAEF,GAAG,CAACK,OAAN,iDAAE,aAAaG,YADvB;AAEE,IAAA,UAAU,EAAEZ,UAFd;AAGE,IAAA,MAAM,EAAEF,MAHV;AAIE,IAAA,GAAG,EAAEM,GAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,MAAC,aAAD,eAAoBN,MAAM,GAAG;AAAEK,IAAAA,OAAO,EAAPA;AAAF,GAAH,GAAiB,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAiDD,QAAjD,CALF,CADF;AASD;;GAzBuBD,Y;;MAAAA,Y","sourcesContent":["//@flow\nimport React, { useEffect, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { StyledCmsGrid } from '@styles/CommonStyledComponents';\nimport { type CmsResponsiveString } from '@types/cms';\nimport { shadowBottom } from '@styles/commonStyles';\n\ntype StickyHeaderProps = {\n  children: any,\n  background: string,\n  padding: CmsResponsiveString,\n};\n\nconst StickHeaderWrapper = styled.div`\n  width: 100%;\n\n  ${({ sticky, height }) =>\n    sticky &&\n    `    \n    height: ${height}px;    \n    > ${StyledCmsGrid} {      \n      position: fixed;\n      z-index: 99;\n      width: 100%;\n      top: 0px;  \n      left: 0px;\n      ${shadowBottom}\n    }  \n  `}\n\n  ${({ background }) =>\n    background &&\n    `\n    > div {\n      background ${background};\n    }\n    \n  `}\n`;\n\nexport default function StickyHeader({ children, background, padding }: StickyHeaderProps) {\n  const ref = useRef(null);\n  const [sticky, setSticky] = useState(false);\n\n  const handleScroll = (): void => {\n    document.addEventListener('scroll', () => {\n      if (ref?.current) {\n        setSticky(ref.current.getBoundingClientRect().top < 0);\n      }\n    });\n  };\n\n  useEffect(() => {\n    handleScroll();\n  }, []);\n\n  return (\n    <StickHeaderWrapper\n      height={ref.current?.clientHeight}\n      background={background}\n      sticky={sticky}\n      ref={ref}>\n      <StyledCmsGrid {...(sticky ? { padding } : {})}>{children}</StyledCmsGrid>\n    </StickHeaderWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}